const _0x16a633=_0x13f1;(function(_0x447875,_0x4daf5e){const _0x3ffc2d=_0x13f1,_0x87329=_0x447875();while(!![]){try{const _0x304013=-parseInt(_0x3ffc2d(0x34b))/0x1+parseInt(_0x3ffc2d(0x283))/0x2*(parseInt(_0x3ffc2d(0x20e))/0x3)+-parseInt(_0x3ffc2d(0x21a))/0x4*(-parseInt(_0x3ffc2d(0x1a4))/0x5)+parseInt(_0x3ffc2d(0x19c))/0x6+parseInt(_0x3ffc2d(0x279))/0x7*(-parseInt(_0x3ffc2d(0x2b6))/0x8)+-parseInt(_0x3ffc2d(0x2df))/0x9+parseInt(_0x3ffc2d(0x340))/0xa;if(_0x304013===_0x4daf5e)break;else _0x87329['push'](_0x87329['shift']());}catch(_0xfd689a){_0x87329['push'](_0x87329['shift']());}}}(_0x2661,0x6ff90));const _0x264f05=function(){let _0x4fc142=!![];return function(_0x524f8,_0x4a5ca8){const _0x10440e=_0x4fc142?function(){const _0x3de323=_0x13f1;if(_0x4a5ca8){const _0x513a7d=_0x4a5ca8[_0x3de323(0x34e)](_0x524f8,arguments);return _0x4a5ca8=null,_0x513a7d;}}:function(){};return _0x4fc142=![],_0x10440e;};}(),_0x30f84d=_0x264f05(this,function(){const _0x59e95d=_0x13f1;return _0x30f84d[_0x59e95d(0x25f)]()[_0x59e95d(0x20b)](_0x59e95d(0x20d))[_0x59e95d(0x25f)]()[_0x59e95d(0x315)](_0x30f84d)['search'](_0x59e95d(0x20d));});_0x30f84d();'use strict';const ccxt=require(_0x16a633(0x2fe)),low=require('lowdb'),FileSync=require(_0x16a633(0x1ae)),fs=require('fs'),fns=require('date-fns'),forge=require('node-forge'),util=require(_0x16a633(0x325)),argv=require('yargs/yargs')(process[_0x16a633(0x374)][_0x16a633(0x2f3)](0x2))['argv'],path=require(_0x16a633(0x354)),axios=require(_0x16a633(0x36e));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x16a633(0x286),'BUSD','TUSD','USDT',_0x16a633(0x212),_0x16a633(0x235)],excludedExchanges=[_0x16a633(0x29a)],debugging=argv['d']||![];let pnlGenerationNeeded=argv['r']||![],config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x16a633(0x317)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x16a633(0x342)+pauseBotInterval/0xea60+_0x16a633(0x330),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',insufficientFundsWarningSent=[],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x16a633(0x2dd))['version'],environment=require(_0x16a633(0x2dd))['environment']||_0x16a633(0x239),botID=process[_0x16a633(0x374)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x16a633(0x240)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x16a633(0x374)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x16a633(0x2d6),logspath=userID?'./logs/'+userID+'/':_0x16a633(0x2d3),loggerfile=fs[_0x16a633(0x308)](logspath+_0x16a633(0x253),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x16a633(0x22f)](configpath);!fs['existsSync'](logspath)&&fs[_0x16a633(0x22f)](logspath);const configfile=configpath+_0x16a633(0x245)+botID+'-config.json',logfile=configpath+_0x16a633(0x245)+botID+_0x16a633(0x2bd),performancefile=configpath+_0x16a633(0x245)+botID+_0x16a633(0x236),coinresultsfile=configpath+_0x16a633(0x245)+botID+_0x16a633(0x33f),settingsfile=configpath+_0x16a633(0x334),securefile=configpath+_0x16a633(0x35c),configbackuppath=configpath+_0x16a633(0x200),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x16a633(0x1d4)]({'logs':[],'version':serverversion})[_0x16a633(0x351)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x16a633(0x1d4)]({'data':[],'version':serverversion})[_0x16a633(0x351)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x16a633(0x1d4)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x16a633(0x1d4)]({'coins':{},'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const operatorId=0x200f1;let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3e28e8=>{console['log'](_0x3e28e8);},'simple':_0xa471c0=>{const _0x17805f=_0x16a633;console[_0x17805f(0x240)](_0xa471c0),loggerfile[_0x17805f(0x351)](util[_0x17805f(0x213)](_0xa471c0)+'\x0a');},'full':async(_0x516594,_0x29d349='')=>{const _0x4b917e=_0x16a633;let _0xf3b1e7;if(config['showname'])_0xf3b1e7=getTimeStamp()+':\x20'+config['botname']+_0x4b917e(0x263)+_0x516594;else _0xf3b1e7=getTimeStamp()+_0x4b917e(0x238)+botID+_0x4b917e(0x263)+_0x516594;console[_0x4b917e(0x240)](_0xf3b1e7),loggerfile[_0x4b917e(0x351)](util[_0x4b917e(0x213)](_0xf3b1e7)+'\x0a'),_0x29d349&&(console[_0x4b917e(0x240)](_0x29d349),loggerfile['write'](util[_0x4b917e(0x213)](_0x29d349)+'\x0a'));},'debug':async(_0xad1bf,_0x456971='')=>{const _0x244551=_0x16a633;let _0x1499dd;if(config[_0x244551(0x1f5)])_0x1499dd=getTimeStamp()+':\x20'+config[_0x244551(0x22d)]+_0x244551(0x29c)+_0xad1bf;else _0x1499dd=getTimeStamp()+_0x244551(0x238)+botID+_0x244551(0x29c)+_0xad1bf;if(debugging)console[_0x244551(0x240)](_0x1499dd);loggerfile[_0x244551(0x351)](util[_0x244551(0x213)](_0x1499dd)+'\x0a');if(_0x456971){if(debugging)console[_0x244551(0x240)](_0x456971);loggerfile[_0x244551(0x351)](util[_0x244551(0x213)](_0x456971)+'\x0a');}}};process['on'](_0x16a633(0x2fb),function(_0x4ad99b){handleError(_0x4ad99b['stack'],'uncaughtException');});settings[_0x16a633(0x369)]!=config[_0x16a633(0x369)]&&updateTimeshift(settings[_0x16a633(0x369)]);settings[_0x16a633(0x2f6)]!=config[_0x16a633(0x2f6)]&&updateOnepagemode(settings['onepagemode']);(settings[_0x16a633(0x2c6)]&&!config[_0x16a633(0x2c6)]||!settings[_0x16a633(0x2c6)]&&config[_0x16a633(0x2c6)])&&updateMarketcapApi(settings[_0x16a633(0x2c6)]);process[_0x16a633(0x2c3)]({'started':_0x16a633(0x2e6)},_0x2064be=>{}),initializeProcessListeners();function proxyEmit(_0x394d4b,_0x4336f2=null){const _0x306977=_0x16a633;process[_0x306977(0x2c3)]({'function':_0x394d4b,'args':_0x4336f2},_0x5398b0=>{});}function initializeProcessListeners(){const _0x504442=_0x16a633;process['on'](_0x504442(0x2da),_0x546ac5=>{const _0x5537c2=_0x504442;switch(Object[_0x5537c2(0x247)](_0x546ac5)[0x0]){case _0x5537c2(0x369):_0x546ac5['timeshift']!=undefined&&(settings[_0x5537c2(0x369)]=_0x546ac5[_0x5537c2(0x369)],updateTimeshift(settings[_0x5537c2(0x369)]));break;case _0x5537c2(0x2f6):_0x546ac5[_0x5537c2(0x2f6)]!=undefined&&(settings[_0x5537c2(0x2f6)]=_0x546ac5[_0x5537c2(0x2f6)],updateOnepagemode(settings['onepagemode']));break;case _0x5537c2(0x2c6):_0x546ac5[_0x5537c2(0x2c6)]!=undefined&&(settings[_0x5537c2(0x2c6)]=_0x546ac5[_0x5537c2(0x2c6)],updateMarketcapApi(settings[_0x5537c2(0x2c6)]));break;case _0x5537c2(0x234):_0x546ac5[_0x5537c2(0x234)]!=undefined&&(bots=JSON[_0x5537c2(0x205)](_0x546ac5[_0x5537c2(0x234)]),proxyEmit(_0x5537c2(0x234),bots));break;case _0x5537c2(0x269):switch(_0x546ac5['function']){case _0x5537c2(0x206):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x5537c2(0x2c2):emitHistory(_0x546ac5['args']);break;case _0x5537c2(0x1eb):deleteHistoryAlerts(_0x546ac5['args']);break;case _0x5537c2(0x30b):getPortfolio(_0x546ac5[_0x5537c2(0x2c7)]);break;case _0x5537c2(0x2db):storeConfiguration(_0x546ac5[_0x5537c2(0x2c7)]);break;case _0x5537c2(0x1a3):storeHeadless(_0x546ac5[_0x5537c2(0x2c7)]);break;case _0x5537c2(0x203):storeFiat(_0x546ac5[_0x5537c2(0x2c7)]);break;case _0x5537c2(0x2d7):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x546ac5[_0x5537c2(0x2c7)]);break;case _0x5537c2(0x1a7):cancelLoading();break;case _0x5537c2(0x2cd):showConfig();break;case _0x5537c2(0x297):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);function _0x13f1(_0x27b8f9,_0x4612a3){const _0x40a143=_0x2661();return _0x13f1=function(_0x30f84d,_0x264f05){_0x30f84d=_0x30f84d-0x199;let _0x2661c0=_0x40a143[_0x30f84d];return _0x2661c0;},_0x13f1(_0x27b8f9,_0x4612a3);}async function reset(_0x244aff=![]){const _0x3f9045=_0x16a633;logger[_0x3f9045(0x1da)](_0x3f9045(0x1a6)+(_0x244aff?_0x3f9045(0x1f7):_0x3f9045(0x364))+'\x20|\x20exchange:\x20'+config[_0x3f9045(0x232)]);if(pidBalances)clearTimeout(pidBalances);lastCoinsToBalance='',insufficientFundsWarningSent=[],coinsLoaded=![];if(config[_0x3f9045(0x2ac)]!=''&&config[_0x3f9045(0x2ac)]!=_0x3f9045(0x322)){loadingProgress=0x0;if(_0x244aff){await initExchange();const _0x52be32=await testAPI();if(!_0x52be32)return;await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x3f9045(0x329),emittedConfiguration()),initialPerformanceStored=![];}const _0x41d899=await getCoins();[currentCoins,currentCoinsAll]=_0x41d899,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3f9045(0x1da)](_0x3f9045(0x1ad)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3f9045(0x1df)]==0x0&&allOpenOrders[_0x3f9045(0x1df)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(pnlGenerationNeeded)await generatePnL();}}async function resumeBot(_0x15f76e=![]){const _0x144c91=_0x16a633;logger[_0x144c91(0x1da)](_0x144c91(0x2dc)+(_0x15f76e?_0x144c91(0x2f4):_0x144c91(0x2d9))+')\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x15f76e){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x144c91(0x2ac)]!=_0x144c91(0x322)){loadingProgress=0x1;const _0x135721=await getCoins();[currentCoins,currentCoinsAll]=_0x135721,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x144c91(0x1da)](_0x144c91(0x1ad)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x144c91(0x1df)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x299d7a){const _0x309f0d=_0x16a633;let _0xd1b2b=![];if(_0x299d7a)_0xd1b2b=!![];const _0x418519=_0xd1b2b?_0x299d7a:currentCoins,_0x23e225=_0x418519[_0x309f0d(0x28c)](_0x405c8a=>_0x405c8a['coin']);if(!config[_0x309f0d(0x2c6)]||!_0xd1b2b&&!config[_0x309f0d(0x365)]||_0x23e225['length']==0x0)return;let _0x29292a=null;try{_0x29292a=await axios[_0x309f0d(0x2f8)](_0x309f0d(0x1a2),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x309f0d(0x2c6)]},'params':{'symbol':_0x23e225[_0x309f0d(0x25f)]()}});}catch(_0x185cb0){_0x29292a=null,_0x185cb0[_0x309f0d(0x25f)]()[_0x309f0d(0x2f5)](_0x309f0d(0x21e))?(config[_0x309f0d(0x2c6)]=![],updateConfig(),proxyEmit(_0x309f0d(0x329),emittedConfiguration()),logHistory(_0x309f0d(0x255),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x309f0d(0x255),_0x309f0d(0x1bc)+schedulerInterval/(0x3c*0x3e8)+_0x309f0d(0x330)),logger[_0x309f0d(0x1da)](_0x309f0d(0x273),_0x185cb0[_0x309f0d(0x25f)]()+_0x309f0d(0x1a1)+_0x185cb0[_0x309f0d(0x1b7)]));}const _0x71d8a5=new Map();let _0x5b45e5=!![];if(_0x29292a){let _0x218294=0x0;const _0x4a3ee4=_0x29292a[_0x309f0d(0x1c5)];_0x23e225['forEach'](_0xb1c452=>{const _0x45f455=_0x309f0d;if(_0x4a3ee4[_0x45f455(0x1c5)][_0xb1c452][0x0]&&_0x4a3ee4[_0x45f455(0x1c5)][_0xb1c452][0x0][_0x45f455(0x30a)][_0x45f455(0x286)][_0x45f455(0x211)])_0x71d8a5[_0x45f455(0x1af)](_0xb1c452,_0x4a3ee4['data'][_0xb1c452][0x0][_0x45f455(0x30a)]['USD'][_0x45f455(0x211)]),_0x218294+=_0x4a3ee4[_0x45f455(0x1c5)][_0xb1c452][0x0][_0x45f455(0x30a)]['USD'][_0x45f455(0x211)];else{if(_0x4a3ee4['data'][_0xb1c452][0x0]&&_0x4a3ee4[_0x45f455(0x1c5)][_0xb1c452][0x0][_0x45f455(0x349)])_0x71d8a5['set'](_0xb1c452,_0x4a3ee4['data'][_0xb1c452][0x0]['self_reported_market_cap']),_0x218294+=_0x4a3ee4[_0x45f455(0x1c5)][_0xb1c452][0x0][_0x45f455(0x349)];else{if(![_0x45f455(0x2c9),_0x45f455(0x286)][_0x45f455(0x2f5)](_0xb1c452)){if(_0xd1b2b)logHistory(_0x45f455(0x255),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20'+_0xb1c452+_0x45f455(0x26c));else{const _0x217083=config[_0x45f455(0x252)][_0x45f455(0x248)](_0x432b9f=>_0x432b9f['coin']==_0xb1c452);_0x217083&&!_0x217083[_0x45f455(0x214)]&&_0x217083[_0x45f455(0x266)]==-0x1&&(_0x5b45e5=![],logHistory('error',_0x45f455(0x270)),logger[_0x45f455(0x1da)](_0x45f455(0x271)+_0xb1c452));}}}}});if(!_0x5b45e5)return;_0x23e225[_0x309f0d(0x216)](_0x4a93fc=>{const _0x5d01fd=_0x309f0d,_0x2a5677=_0x71d8a5[_0x5d01fd(0x2f8)](_0x4a93fc)?_0x71d8a5[_0x5d01fd(0x2f8)](_0x4a93fc):0x0;if(_0xd1b2b){const _0xe14b09=_0x299d7a[_0x5d01fd(0x248)](_0x4ebace=>_0x4ebace[_0x5d01fd(0x34f)]==_0x4a93fc);_0xe14b09&&(_0xe14b09['marketcap']=_0x2a5677);}else{const _0xbe19fc=currentCoins[_0x5d01fd(0x248)](_0x16abbe=>_0x16abbe['coin']==_0x4a93fc);_0xbe19fc&&(_0xbe19fc[_0x5d01fd(0x2f9)]=_0x2a5677);const _0x1c22e0=currentCoinsAll['find'](_0x35e813=>_0x35e813[_0x5d01fd(0x34f)]==_0x4a93fc);_0x1c22e0&&(_0x1c22e0[_0x5d01fd(0x2f9)]=_0x2a5677);}}),!_0xd1b2b&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x3d3096=_0x16a633,_0x251f1b=0x2;let _0x34be50=0x0,_0x3c5cef=0x0,_0x3df3d2=0x0,_0x444d9d=0x0,_0x592ab3=0x0;config[_0x3d3096(0x252)]['forEach'](_0x3cca2f=>{const _0x13e5ee=_0x3d3096;if(!_0x3cca2f[_0x13e5ee(0x214)]){_0x3df3d2++,_0x34be50+=_0x3cca2f[_0x13e5ee(0x266)];if(_0x3cca2f['slider']===-0x1){_0x34be50++;const _0x4a4b0c=currentCoinsAll['find'](_0x14ef56=>_0x14ef56[_0x13e5ee(0x34f)]==_0x3cca2f[_0x13e5ee(0x34f)]);_0x4a4b0c&&(_0x444d9d+=_0x4a4b0c[_0x13e5ee(0x2f9)],_0x592ab3+=Math['sqrt'](_0x4a4b0c[_0x13e5ee(0x2f9)]));}if(_0x3cca2f[_0x13e5ee(0x266)]!==-0x1)_0x3c5cef++;}});let _0x28434a;const _0x135a82=0x64-_0x34be50,_0x2fb11f=_0x3df3d2-_0x3c5cef;_0x28434a=_0x2fb11f===0x0?_0x34be50:Math[_0x3d3096(0x32a)](0x64,_0x34be50),config[_0x3d3096(0x252)][_0x3d3096(0x216)](_0x510b75=>{const _0x43215d=_0x3d3096,_0xfa1fc4=currentCoinsAll[_0x43215d(0x248)](_0x40cd81=>_0x40cd81[_0x43215d(0x34f)]==_0x510b75[_0x43215d(0x34f)]);_0xfa1fc4&&(_0x510b75[_0x43215d(0x2f9)]=_0xfa1fc4[_0x43215d(0x2f9)]);if(!_0x510b75[_0x43215d(0x214)]){if(_0x28434a<=0x64){if(_0x510b75['slider']===-0x1){if(_0x444d9d!==0x0&&config[_0x43215d(0x365)]){if(_0xfa1fc4){if(config[_0x43215d(0x365)]==_0x43215d(0x2f9))_0x510b75[_0x43215d(0x2c1)]=(_0x135a82/(_0x444d9d/_0xfa1fc4[_0x43215d(0x2f9)]))[_0x43215d(0x29f)](_0x251f1b);else config[_0x43215d(0x365)]==_0x43215d(0x1e6)&&(_0x510b75[_0x43215d(0x2c1)]=(_0x135a82/(_0x592ab3/Math['sqrt'](_0xfa1fc4[_0x43215d(0x2f9)])))[_0x43215d(0x29f)](_0x251f1b));}}}}}}),updateConfig();}function updateConfig(){const _0x1660ef=_0x16a633;let _0x56b10c=dbConfig[_0x1660ef(0x2f8)](_0x1660ef(0x1fe))[_0x1660ef(0x248)]({'botID':botID})[_0x1660ef(0x25b)]();_0x56b10c&&dbConfig[_0x1660ef(0x2f8)](_0x1660ef(0x1fe))[_0x1660ef(0x248)]({'botID':botID})[_0x1660ef(0x321)](config)[_0x1660ef(0x351)]();}function logMemory(){const _0x15f256=_0x16a633;if(environment!='staging')return;const _0xb2d099=process[_0x15f256(0x1d0)]()[_0x15f256(0x23c)]/0x400/0x400;logger['debug'](_0x15f256(0x26f)+process[_0x15f256(0x23d)]+_0x15f256(0x31b)+formatResult(_0xb2d099,0x1)+_0x15f256(0x1f1));}async function startScheduler(){const _0x2ae4cf=_0x16a633,_0x144046=shiftedTime()[_0x2ae4cf(0x2b1)]();getMarketCap(),loadSymbols(),_0x144046==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x26d2a6=![]){const _0x3cd2c4=_0x16a633;logger['debug'](_0x3cd2c4(0x290));if(!_0x26d2a6)while(lockOrders!=ORDERS[_0x3cd2c4(0x1db)]||coolingDown){await sleep(0x3e8);}process[_0x3cd2c4(0x2c3)]({'stop':_0x3cd2c4(0x1de)},_0x21f304=>{});}async function initExchange(_0x3c3b90=config['exchange'],_0x54a073=config[_0x16a633(0x2ac)],_0x3c40c3=config[_0x16a633(0x278)],_0x36bf72=config[_0x16a633(0x350)],_0x13361b=config['sandbox']){const _0x2423a3=_0x16a633;if(exchange){logger[_0x2423a3(0x1da)](_0x2423a3(0x373));return;}logger['debug'](_0x2423a3(0x2ab));!supportedExchanges()[_0x2423a3(0x2f5)](_0x3c3b90)&&(logHistory(_0x2423a3(0x255),_0x2423a3(0x24b)+_0x3c3b90+'\x20exchange'),killBot());const _0x1bf762=ccxt[_0x2423a3(0x228)][_0x3c3b90[_0x2423a3(0x1f4)]()];exchange=new _0x1bf762({'apiKey':_0x54a073,'secret':_0x3c40c3,'options':{'defaultType':'spot'}});if(_0x36bf72)exchange['password']=_0x36bf72;if(exchange['has']['sandbox'])exchange[_0x2423a3(0x323)](_0x13361b);if(_0x3c3b90[_0x2423a3(0x1f4)]()==_0x2423a3(0x2a2))exchange[_0x2423a3(0x1b1)][_0x2423a3(0x2ee)]=operatorId;}function updateExchange(_0xf56ec8,_0x59eea8,_0x34dfba=null){const _0x5bd95f=_0x16a633;exchange[_0x5bd95f(0x2ac)]=_0xf56ec8,exchange[_0x5bd95f(0x1ec)]=_0x59eea8,exchange['password']=_0x34dfba,logger['debug']('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x478b1b=_0x16a633;let _0xe66977=config[_0x478b1b(0x208)]==_0x478b1b(0x20a)?_0x478b1b(0x20a):config[_0x478b1b(0x208)]=='PAXG'?_0x478b1b(0x2d2):_0x478b1b(0x367),_0xe773ef=allSymbols[_0x478b1b(0x2f5)](_0xe66977+_0x478b1b(0x294))?'USD':allSymbols[_0x478b1b(0x2f5)](_0xe66977+_0x478b1b(0x302))?_0x478b1b(0x2f1):allSymbols[_0x478b1b(0x2f5)](_0xe66977+_0x478b1b(0x27e))?_0x478b1b(0x212):_0x478b1b(0x2c9),_0x291b37=allSymbols[_0x478b1b(0x2f5)](_0xe66977+_0x478b1b(0x331))?'EUR':_0xe773ef;enableFiatToggle=!![],_0xe773ef=='EUR'&&(enableFiatToggle=![],storeFiat(_0x478b1b(0x2c9))),_0x291b37!=_0x478b1b(0x2c9)&&(enableFiatToggle=![],storeFiat(_0x478b1b(0x286))),stablecoins={'eur':{'coin':''+_0xe66977+_0x291b37,'symbol':_0xe66977+'/'+_0x291b37},'usd':{'coin':''+_0xe66977+_0xe773ef,'symbol':_0xe66977+'/'+_0xe773ef}};}async function initwsCcxt(){const _0x53164a=_0x16a633;initCycle++;const _0x5513c3=initCycle;let _0x358182=[];config[_0x53164a(0x252)]['forEach'](_0x3d77ff=>{const _0xe0c31=_0x53164a;if(!_0x3d77ff[_0xe0c31(0x214)]&&_0x3d77ff['coin']!=config[_0xe0c31(0x208)])_0x358182['push'](_0x3d77ff[_0xe0c31(0x1c9)]);});if(!_0x358182[_0x53164a(0x2f5)](stablecoins[_0x53164a(0x28f)][_0x53164a(0x1c9)]))_0x358182[_0x53164a(0x313)](stablecoins[_0x53164a(0x28f)]['symbol']);if(!_0x358182[_0x53164a(0x2f5)](stablecoins['usd'][_0x53164a(0x1c9)]))_0x358182[_0x53164a(0x313)](stablecoins['usd'][_0x53164a(0x1c9)]);loadCoins(_0x358182),_0x358182=validateSymbols(_0x358182);const _0x400c39=async _0x1d112d=>{const _0x73392a=_0x53164a;let _0x3f91b7;try{const _0x4dc1cb=await getTickers(_0x1d112d);Object[_0x73392a(0x37b)](_0x4dc1cb)[_0x73392a(0x216)](_0x3004c9=>{const _0x5d62d1=_0x73392a;_0x3f91b7=_0x3004c9[0x1][_0x5d62d1(0x1c9)],gTicker[noslash(_0x3f91b7)]=_0x3004c9[0x1][_0x5d62d1(0x359)],gChange[_0x3f91b7]=_0x3004c9[0x1]['percentage'];});}catch(_0x15f166){await handleError(_0x15f166,'initTickers()',_0x3f91b7);}},_0x3da8ee=async _0x33c2b1=>{const _0xd5ba46=_0x53164a;while(initCycle==_0x5513c3){if(!botPaused)try{const _0x5a2a84=await exchange[_0xd5ba46(0x1fa)](_0x33c2b1);gTicker[noslash(_0x5a2a84[0x0][_0xd5ba46(0x1c9)])]=_0x5a2a84[0x0][_0xd5ba46(0x377)];}catch(_0x6d0c5){if(!exchangeStopped)await handleError(_0x6d0c5,_0xd5ba46(0x1e4),_0x33c2b1);}else await sleep(0x64);}},_0x33b1fa=async _0x4bc313=>{const _0x27bd50=_0x53164a;while(initCycle==_0x5513c3){if(!botPaused)try{const _0x182be8=await exchange['watchTradesForSymbols'](_0x4bc313),_0x137b08=_0x182be8[_0x27bd50(0x2e8)]();gTicker[noslash(_0x137b08[_0x27bd50(0x1c9)])]=_0x137b08['price'];}catch(_0xfeadd){if(!exchangeStopped)await handleError(_0xfeadd,_0x27bd50(0x277),_0x4bc313[_0x27bd50(0x25f)]());}else await sleep(0x64);}},_0x2bcf57=async _0x2f4ebc=>{const _0x4b21cd=_0x53164a;while(initCycle==_0x5513c3){if(!botPaused){let _0x4a8d9d;try{await sleep(0x3c*0x3e8);const _0x3e46ec=await getTickers(_0x2f4ebc);Object[_0x4b21cd(0x37b)](_0x3e46ec)['forEach'](_0x54c6d5=>{_0x4a8d9d=_0x54c6d5[0x1]['symbol'],gChange[_0x4a8d9d]=_0x54c6d5[0x1]['percentage'];});}catch(_0x3f5cd9){if(!exchangeStopped)await handleError(_0x3f5cd9,_0x4b21cd(0x2ca),_0x4a8d9d);}}else await sleep(0x64);}},_0x5b82f7=async _0x57158e=>{const _0x4f712c=_0x53164a;while(initCycle==_0x5513c3){if(!botPaused)try{const _0x432340=await exchange[_0x4f712c(0x2a1)](_0x57158e);initCycle==_0x5513c3&&_0x432340['forEach'](_0x5af353=>{updateNumberCoinsCcxt(_0x5af353);});}catch(_0x3aef8c){if(!exchangeStopped)await handleError(_0x3aef8c,_0x4f712c(0x23f));}else await sleep(0x64);}};_0x400c39(_0x358182),_0x2bcf57(_0x358182),exchange[_0x53164a(0x362)]['watchTradesForSymbols']&&!(config['exchange']==_0x53164a(0x1c1)&&_0x358182['length']>0xa)?_0x33b1fa(_0x358182):_0x358182[_0x53164a(0x216)](_0x3f4c75=>{_0x3da8ee(_0x3f4c75);}),_0x358182[_0x53164a(0x216)](_0x4dbc18=>{_0x5b82f7(_0x4dbc18);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x15b437){const _0x403571=_0x16a633;let _0x50dd24={};try{if(config['exchange']!=_0x403571(0x1e3))_0x50dd24=await exchange[_0x403571(0x27d)](_0x15b437);else for(const _0x41274c of _0x15b437){const _0x3c69a0=await exchange['fetchTicker'](_0x41274c);_0x50dd24[_0x41274c]=_0x3c69a0;}return _0x50dd24;}catch(_0x589652){throw _0x589652;}}function setBlockTransactionDetection(_0x301b91){const _0x2912b5=_0x16a633;blockTransactionDetection=_0x301b91,logger[_0x2912b5(0x1da)](_0x2912b5(0x2b3)+blockTransactionDetection);}async function detectLiquidityChange(_0x10e01d=0x0){const _0x2b60d9=_0x16a633;transactionDetectionOngoing=!![];try{const _0xd7f7cd=await getCoins(_0x10e01d),[_0x27db8a,_0x2fdb05]=_0xd7f7cd;let _0x3880a8=[];currentCoins['forEach'](_0xd7206a=>{const _0x319cb1=_0x13f1,_0x4c2465=_0x27db8a[_0x319cb1(0x248)](_0x5c4150=>_0x5c4150[_0x319cb1(0x34f)]==_0xd7206a[_0x319cb1(0x34f)]);if(_0x4c2465){if(_0xd7206a[_0x319cb1(0x230)]!=_0x4c2465[_0x319cb1(0x230)]){let _0x39d4f4;if(_0xd7206a[_0x319cb1(0x34f)]!=config[_0x319cb1(0x208)]){const _0x2da483=gTicker[noslash(_0xd7206a[_0x319cb1(0x1c9)])];_0x39d4f4=_0xd7206a['reverse']?0x1/_0x2da483:_0x2da483;}else _0x39d4f4=0x1;_0x3880a8['push']({'coin':_0xd7206a[_0x319cb1(0x34f)],'symbol':_0xd7206a[_0x319cb1(0x1c9)],'price':_0x39d4f4,'number':Number(formatResult(_0x4c2465[_0x319cb1(0x230)]-_0xd7206a[_0x319cb1(0x230)],0x8)),'basecoinvalue':_0x39d4f4*(_0x4c2465[_0x319cb1(0x230)]-_0xd7206a[_0x319cb1(0x230)])});}}});if(_0x3880a8[_0x2b60d9(0x1df)]>0x0&&!blockTransactionDetection){for(const _0x285aed of _0x3880a8){if(config[_0x2b60d9(0x217)]){logger[_0x2b60d9(0x1da)](_0x2b60d9(0x262)+_0x285aed['basecoinvalue']+_0x2b60d9(0x202)+lastFees[_0x2b60d9(0x2ef)]);if(lastFees['highest']==0x0||Math[_0x2b60d9(0x1bf)](_0x285aed['basecoinvalue'])>lastFees[_0x2b60d9(0x2ef)]*0x3){if(config[_0x2b60d9(0x217)]==_0x2b60d9(0x29d)){delete _0x285aed[_0x2b60d9(0x1c9)],delete _0x285aed['basecoinvalue'];let _0x423868=[],_0x42d3b3=[...config[_0x2b60d9(0x2bb)]]||[],_0xc84660=config[_0x2b60d9(0x2bb)];_0x42d3b3[_0x2b60d9(0x2b0)]((_0x11715f,_0x14b1cd)=>_0x11715f['date']>_0x14b1cd[_0x2b60d9(0x1dc)]?-0x1:_0x14b1cd[_0x2b60d9(0x1dc)]>_0x11715f[_0x2b60d9(0x1dc)]?0x1:0x0);const _0x28afb4=getDate();if(_0x42d3b3[0x0]){const _0x4317b3=fns['parse'](_0x42d3b3[0x0][_0x2b60d9(0x1dc)],'yyyy/MM/dd',new Date()),_0x1d126d=fns[_0x2b60d9(0x205)](_0x28afb4,_0x2b60d9(0x26a),new Date());if(fns[_0x2b60d9(0x360)](_0x4317b3,_0x1d126d)){_0x423868=_0x42d3b3[0x0][_0x2b60d9(0x35a)];const _0x33e694=_0x423868[_0x2b60d9(0x248)](_0x3916bc=>_0x3916bc[_0x2b60d9(0x34f)]==_0x285aed[_0x2b60d9(0x34f)]);_0x33e694?(_0x33e694['number']+=_0x285aed['number'],_0x33e694[_0x2b60d9(0x230)]==0x0&&(_0x423868=_0x423868[_0x2b60d9(0x25e)](_0x22bd27=>{const _0x5539dd=_0x2b60d9;return _0x22bd27['coin']!=_0x285aed[_0x5539dd(0x34f)];}))):_0x423868[_0x2b60d9(0x313)](_0x285aed);const _0xd16c77=_0xc84660[_0x2b60d9(0x248)](_0x51df28=>_0x51df28[_0x2b60d9(0x1dc)]==_0x28afb4);_0xd16c77[_0x2b60d9(0x35a)]=_0x423868;}else _0xc84660[_0x2b60d9(0x313)]({'date':_0x28afb4,'changes':[_0x285aed]});}const _0x5f5214=_0xc84660[_0x2b60d9(0x248)](_0x5c917d=>_0x5c917d[_0x2b60d9(0x1dc)]==_0x28afb4);if(_0x5f5214){let _0x1adfa9=!![];_0x5f5214[_0x2b60d9(0x35a)][_0x2b60d9(0x216)](_0xf651a3=>{if(_0xf651a3['number']!=0x0)_0x1adfa9=![];}),_0x1adfa9&&(_0xc84660=_0xc84660['filter'](_0x4c8c3a=>{const _0x1fe681=_0x2b60d9;return _0x4c8c3a[_0x1fe681(0x1dc)]!=_0x28afb4;}));}let _0xc26661=dbConfig['get'](_0x2b60d9(0x1fe))['find']({'botID':botID})['value']();_0xc26661&&(dbConfig[_0x2b60d9(0x2f8)](_0x2b60d9(0x1fe))[_0x2b60d9(0x248)]({'botID':botID})['assign']({'liquidity':_0xc84660})['write'](),config['liquidity']=_0xc84660);logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x2b60d9(0x1bf)](_0x285aed[_0x2b60d9(0x230)])+'\x20'+_0x285aed[_0x2b60d9(0x34f)]+'\x20'+(_0x285aed[_0x2b60d9(0x230)]>0x0?'added':'removed')+_0x2b60d9(0x2d5)),proxyEmit(_0x2b60d9(0x329),emittedConfiguration());const _0x5aebb2=getNormalizedPerformance();emitPerformance(_0x5aebb2),getStartingBalances(_0x5aebb2),logger[_0x2b60d9(0x1da)](_0x2b60d9(0x371));}else config['autoliquidity']==_0x2b60d9(0x1b0)&&(config[_0x2b60d9(0x20c)]?(await storeHeadless({'headless':![]}),logHistory('success',_0x2b60d9(0x32c)+Math[_0x2b60d9(0x1bf)](_0x285aed[_0x2b60d9(0x230)])+'\x20'+_0x285aed[_0x2b60d9(0x34f)]+'\x20'+(_0x285aed['number']>0x0?'added':_0x2b60d9(0x2a0))+_0x2b60d9(0x229))):logger[_0x2b60d9(0x1da)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x285aed[_0x2b60d9(0x230)])+'\x20'+_0x285aed['coin']+'\x20'+(_0x285aed[_0x2b60d9(0x230)]>0x0?_0x2b60d9(0x207):_0x2b60d9(0x2a0))+_0x2b60d9(0x289)));}else logger[_0x2b60d9(0x1da)](_0x2b60d9(0x224)+Math[_0x2b60d9(0x1bf)](_0x285aed['number'])+'\x20'+_0x285aed[_0x2b60d9(0x34f)]+'\x20'+(_0x285aed[_0x2b60d9(0x230)]>0x0?'added':_0x2b60d9(0x2a0)));}else logger[_0x2b60d9(0x1da)](_0x2b60d9(0x32c)+Math['abs'](_0x285aed[_0x2b60d9(0x230)])+'\x20'+_0x285aed[_0x2b60d9(0x34f)]+'\x20'+(_0x285aed[_0x2b60d9(0x230)]>0x0?_0x2b60d9(0x207):_0x2b60d9(0x2a0))+_0x2b60d9(0x309));}currentCoins=_0x27db8a,currentCoinsAll=_0x2fdb05;}}catch(_0x26ce61){if(!exchangeStopped)await handleError(_0x26ce61,_0x2b60d9(0x35e));}transactionDetectionOngoing=![];}function _0x2661(){const _0x451961=['limit-high','2gfnbRa','LOCKED','balances','USD','create','red_yellow_blue','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','api-issue','breakeven','map','kill','Initializing\x20coin\x20results','eur','Initiating\x20bot\x20restart','Creating\x20order:\x20','coin-loading-progress','Error\x20occurred:\x20','/USD','placeOrder()','string','sendMetricsTelegram','bid','Error\x20in\x20loadSymbols():\x20','bitmex','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20>\x20[DEBUG]\x20','update-liquidity','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','toFixed','removed','watchOrders','bitvavo','filled','stringify','active','net-basecoin','enabled','fiat','startdate','getSeconds','Initializing\x20exchange','apiKey','success','%)\x0a','Generating\x20PnL\x20data','sort','getHours','sha256','Block\x20transaction\x20detection:\x20','ID:\x20','trade','32uSFtjJ','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','Market','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','Unknown\x20error\x20-\x20check\x20logs','liquidity','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','-events.json','2.3.5','Cex','1\x20-\x20Validate\x20orders:\x20','distribution','emitHistory','send','padEnd','sortBy','marketcapApi','args','fetchOpenOrders','EUR','fetchTickers()','orderId','Limit\x20(low-margin)','showConfig','join','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20Custom\x20ID:\x20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','PAXG','./logs/','2.6.22','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','./config/','resetHistory','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','complete','message','storeConfiguration','Resuming\x20(','./version.json','sandbox','3036942vmxVYX','timestamp','market','openOrders','coins','round','net-fiat','running','\x20>\x20details:','pop','buy','pnl-fiat','portfolio1','Headless:\x20','\x20metrics:</b>\x20\x0a\x0a','operatorId','highest','warning','USDT','orderstatus','slice','quick','includes','onepagemode','\x20portfolio:</b>\x20\x0a\x0a','get','marketcap','amount','uncaughtException','timestamp-issue','1\x20-\x20FILLED\x20unknown\x20order:\x20','ccxt','version','RETRY\x20-\x20Error\x20in\x20','splice','/USDT','Valid\x20balance\x20for\x20','</pre>','Order\x20filled:\x20','Generated\x20PnL\x20data','substring','createWriteStream','\x20-\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','quote','getPortfolio','portfolio2','\x20API\x20key\x20is\x20invalid','full','average','existsSync','change24h','Market\x20order','push','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','constructor','decrypt','freeze','offset','Bot\x20','ExchangeNotAvailable','\x20uses\x20','\x0aSymbol(s):\x20','Will\x20continue\x20to\x20wait\x20for\x20order(s)\x20to\x20be\x20filled\x20and\x20try\x20to\x20cancel\x20again\x20later','status','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','canceled','assign','***','setSandboxMode','RSA-OAEP','util','Order\x20filled','remainingSymbols','request-time','configuration','max','addDays','Portfolio\x20change\x20detected:\x20','Value\x20','amountToPrecision','decode64','\x20minutes','/EUR','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','AuthenticationError','bb-settings.json','\x20API\x20secret\x20is\x20invalid','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Huobipro','balancing\x20resumed','threshold','recreate','limit-low','cancelOrders()','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','InsufficientFunds','-results.json','27060KiHFXe','Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20>\x20pausing\x20bot\x20for\x20','NetworkError','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','recent20','ExchangeError','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','\x20has\x20a\x2024h\x20drop\x20of\x20','self_reported_market_cap','************','560356YMKXIn','Exception\x20thrown\x20in\x20','delta','apply','coin','apiPassword','write','<pre>','privateKey','path','cloneDeep','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','performance','\x20orders\x20in\x20less\x20than\x20','last','changes','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','bb-secure.json','Stopped\x20fetching\x20balance\x20after\x20','detectLiquidityChange()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','isEqual','exchanges','has','match','no\x20exchange\x20reloaded','marketcapEnabled','2\x20-\x20Handled\x20open\x20orders','BTC','Huobi','timeshift','Pausing\x20for\x20','limits','initial','startnumber','axios','\x20exchange\x20error:\x20','getTime','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20-\x20bot\x20not\x20started','Initializing\x20exchange:\x20already\x20done','argv','privateKeyFromPem','recovery','price','cancelOrder','-------------------------------\x0a','Order\x20is\x20invalid:\x20','entries','Saving\x20configuration','customId','Insufficient\x20funds\x20to\x20place\x20order\x20for\x20','5477616zbxfBJ','1\x20-\x20partially\x20FILLED\x20(','Placing\x20order\x20for:\x20','InvalidOrder',')\x20unknown\x20order:\x20','\x20-\x20','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','storeHeadless','20VKlMKK','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Reset\x20|\x20','cancelLoading','pki','sell','RequestTimeout','PnL\x20','createOrder','Loading\x20completed','lowdb/adapters/FileSync','set','switch-manual','options',':\x20timer\x20>','pnl','usd','net','replace','code','min','Set\x20lock\x20orders\x20to:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','ongoing','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','Test\x20new\x20API','Waited\x20','abs','fee','Bybit','Trigger:\x20','getOpenOrders()','loading-canceled','data','unlinkSync','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','pnl-basecoin','symbol','\x20/\x20','\x20minutes\x20-\x20','Unfilled\x20order(s)\x20could\x20not\x20be\x20canceled\x20after\x20','\x20order:\x20','loadMarkets','none','memoryUsage','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20network\x20error:\x20','valid','defaults','OnMaintenance','type','event-history','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','change','debug','UNLOCKED','date','starting-balance-','restart','length','emojibuy','secure','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Cryptocom','watchTrades()','Network\x20error\x20details:','marketcapsqrt','getFullYear','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','no\x20open\x20orders','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','deleteHistoryAlerts','secret','closed','final','fromCodePoint','cost','\x20MB','password','currency','toLowerCase','showname','Gateio','exchange\x20reload','API-key\x20format\x20invalid','Order(s)\x20not\x20validated\x20after\x20','watchTrades','limit','\x20hour','colorscheme','bot','cancel','/backup/','DDoSProtection','\x20|\x20highest\x20fee:\x20','storeFiat','Resetting\x20coin\x20results:\x20','parse','initclient','added','basecoin','toUpperCase','ETH','search','headless','(((.+)+)+)+$','1964820wZvydQ','getMonth','Resetting\x20bot\x20history','market_cap','USDC','format','excluded','progress','forEach','autoliquidity','event','<b>','150248FbyOmX','timeout','testAPI()','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','status\x20code\x20401','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','buys','\x20|\x20lock\x20orders:\x20','ordertype','Invalid\x20quantity','Fee\x20discount\x20refund\x20detected:\x20','\x20@undefined','getMinutes','Error\x20while\x20deleting\x20files:\x20','pro','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','2\x20-\x20handling\x20FILLED\x20order:\x20','fetchTicker','indexOf','botname','remove','mkdirSync','number','must\x20be\x20greater\x20than\x20minimum\x20amount','exchange','configstate','bots','USDP','-performance.json','spot',':\x20Bot\x20','production','getDate','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','heapUsed','pid','Binance','watchOrders()','log','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','page','time','loadSymbols()','bot-','fetchBalance()','keys','find','order','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','configuration-stored','Net\x20','writeFile','Error\x20details:\x20','PermissionDenied','settings','portfolio','/output-000.log','Limit\x20(high-margin)','error','padStart','\x20|\x20','differenceInSeconds','1\x20-\x20Handle\x20open\x20orders','fetchBalance','value','cooldown','side','filter','toString','2.7.1','startprice','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','\x20>\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20due\x20to\x20offset','slider','Unknown\x20error:\x20','target','function','yyyy/MM/dd','realizedPnL','\x20-\x20go\x20back\x20and\x20try\x20again','reverse','open','process\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20updated\x20-\x20will\x20try\x20again\x20in\x201\x20hour','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20for\x20','logs','Error\x20details:','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','emojisell','token\x20is\x20expired','watchTradesForSymbols()','apiSecret','637693FgmonB','shift','Exchange','prevnumber','fetchTickers','/USDC','findIndex','No\x20more\x20open\x20orders\x20-\x20','split'];_0x2661=function(){return _0x451961;};return _0x2661();}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x4d6c85=_0x16a633;try{markets=await exchange[_0x4d6c85(0x1ce)](!![]),allSymbols=[],Object[_0x4d6c85(0x37b)](markets)[_0x4d6c85(0x216)](_0x1ee774=>{const _0x3ccdd7=_0x4d6c85;_0x1ee774[0x1][_0x3ccdd7(0x2a5)]&&_0x1ee774[0x1][_0x3ccdd7(0x237)]&&allSymbols['push'](_0x1ee774[0x0]);});}catch(_0x31117d){markets?logger[_0x4d6c85(0x1da)](_0x4d6c85(0x299)+_0x31117d[_0x4d6c85(0x25f)]()):(loading[_0x4d6c85(0x1ff)]=!![],_0x31117d[_0x4d6c85(0x25f)]()[_0x4d6c85(0x1f4)]()[_0x4d6c85(0x2f5)]('timestamp')||_0x31117d[_0x4d6c85(0x25f)]()['toLowerCase']()[_0x4d6c85(0x2f5)](_0x4d6c85(0x328))?(logHistory(_0x4d6c85(0x255),_0x4d6c85(0x2b7)),loading[_0x4d6c85(0x255)]='timestamp-issue'):handleErrorNoStop(_0x31117d,_0x4d6c85(0x244),!![]),logHistory(_0x4d6c85(0x255),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory(_0x4d6c85(0x255),_0x4d6c85(0x36a)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x4d6c85(0x1da)](_0x4d6c85(0x273),_0x31117d),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x57a2dc){let _0x302364=[];return _0x57a2dc['forEach'](_0x1d4823=>{const _0x2096ec=_0x13f1;!allSymbols['includes'](_0x1d4823)?(logHistory('error','Invalid\x20symbol:\x20'+_0x1d4823+_0x2096ec(0x2b9)),loading['timeout']=!![],emitLoadingProgress()):_0x302364[_0x2096ec(0x313)](_0x1d4823);}),_0x302364;}async function initclient(){const _0x2c210d=_0x16a633;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x2c210d(0x361),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2c210d(0x285),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x477541=getNormalizedPerformance();emitPerformance(_0x477541),getStartingBalances(_0x477541);}async function toggleBotMode(){const _0x8a579e=_0x16a633;let _0xeca134=dbConfig[_0x8a579e(0x2f8)]('bot')[_0x8a579e(0x248)]({'botID':botID})[_0x8a579e(0x25b)]();if(_0xeca134){const _0x58cec8=!_0xeca134[_0x8a579e(0x20c)];dbConfig[_0x8a579e(0x2f8)](_0x8a579e(0x1fe))[_0x8a579e(0x248)]({'botID':botID})[_0x8a579e(0x321)]({'headless':_0x58cec8})['write'](),config[_0x8a579e(0x20c)]=_0x58cec8,proxyEmit(_0x8a579e(0x329),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x394647=_0x16a633;process['send']({'updatebotmanager':!![]},_0x14cd3a=>{}),logger[_0x394647(0x1da)](_0x394647(0x2ec)+config[_0x394647(0x20c)]);}async function loadCoins(_0x5c41d2){const _0x3598ca=_0x16a633;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x245fb1,_0x33f5d7=0x0,_0x390453=0x0;_0x5c41d2[_0x3598ca(0x216)](_0x281f25=>{const _0x47563b=_0x3598ca;loading[_0x47563b(0x327)][_0x47563b(0x313)](_0x281f25);}),loadingCanceled=![];let _0x53d1f8=![];while(_0x245fb1!=_0x5c41d2[_0x3598ca(0x1df)]+maxLoadingProgress){_0x245fb1=loadingProgress,_0x5c41d2['forEach'](_0x5d4a63=>{const _0x399ec9=_0x3598ca;if(gTicker[noslash(_0x5d4a63)]){loading[_0x399ec9(0x327)]=loading[_0x399ec9(0x327)][_0x399ec9(0x25e)](_0x1f776e=>_0x1f776e!=_0x5d4a63);if(!watchedSymbols[_0x399ec9(0x2f5)](_0x5d4a63))watchedSymbols['push'](_0x5d4a63);_0x245fb1++;}}),loading[_0x3598ca(0x215)]=Math['round'](_0x245fb1/(_0x5c41d2[_0x3598ca(0x1df)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x390453>0x1e*0x5&&(loading[_0x3598ca(0x21b)]=!![],emitLoadingProgress()),_0x390453>0x78*0x5&&!_0x53d1f8&&(_0x53d1f8=!![],logHistory(_0x3598ca(0x255),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x3598ca(0x327)][_0x3598ca(0x2ce)](',\x20')+_0x3598ca(0x372)),logHistory(_0x3598ca(0x255),_0x3598ca(0x36a)+loadCoinsRetryInterval/0xea60+_0x3598ca(0x344)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x3598ca(0x1ff)]=!![],emitLoadingProgress();break;}else _0x33f5d7!=loading['progress']&&(_0x33f5d7=loading['progress'],emitLoadingProgress()),_0x390453++,await sleep(0xc8);}_0x245fb1==_0x5c41d2['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x3598ca(0x2c3)]({'status':_0x3598ca(0x2a7),'live':'running'},_0x23f419=>{}),_0x53d1f8&&logHistory(_0x3598ca(0x2ad),_0x3598ca(0x1e2)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1e7bbc=_0x16a633;proxyEmit(_0x1e7bbc(0x329),{...emittedConfiguration(),'configstate':_0x1e7bbc(0x1c4)});}function emitLoadingProgress(){const _0x537362=_0x16a633;proxyEmit(_0x537362(0x292),loading);}async function getFiat(){const _0x5836f1=_0x16a633;let _0x3c0c03=gTicker[stablecoins['eur']['coin']],_0x3b40ad=gTicker[stablecoins[_0x5836f1(0x1b4)][_0x5836f1(0x34f)]];return{'eur':Number(_0x3c0c03),'usd':Number(_0x3b40ad)};}function capitalize(_0x2aaa26){const _0x743843=_0x16a633;return _0x2aaa26['substring'](0x0,0x1)[_0x743843(0x209)]()+_0x2aaa26[_0x743843(0x307)](0x1);}function supportedExchanges(){const _0x1b81c3=_0x16a633,_0x35a7c6=['ws',_0x1b81c3(0x27d),_0x1b81c3(0x22b),_0x1b81c3(0x1fa),'watchOrders',_0x1b81c3(0x378),_0x1b81c3(0x1ac),_0x1b81c3(0x2c8),_0x1b81c3(0x25a)];let _0x2baa9c=[],_0x324386=[],_0x5206d1=ccxt[_0x1b81c3(0x228)][_0x1b81c3(0x361)];_0x5206d1[_0x1b81c3(0x216)](_0x421faa=>{const _0x2cd654=_0x1b81c3;try{const _0x513534=new ccxt[(_0x2cd654(0x228))][_0x421faa]();_0x324386[_0x2cd654(0x313)](_0x513534);}catch(_0x350743){}}),_0x324386[_0x1b81c3(0x216)](_0x3da7cd=>{const _0x32c1c2=_0x1b81c3;let _0x198c72=0x0;_0x35a7c6[_0x32c1c2(0x216)](_0x5b0c4f=>{const _0x41d7a2=_0x32c1c2;_0x5b0c4f in _0x3da7cd[_0x41d7a2(0x362)]&&_0x3da7cd[_0x41d7a2(0x362)][_0x5b0c4f]&&_0x198c72++;}),_0x198c72==_0x35a7c6['length']&&(!excludedExchanges[_0x32c1c2(0x2f5)](_0x3da7cd['id'])&&_0x2baa9c['push'](capitalize(_0x3da7cd['id'])));});let _0x131056=[];return _0x5206d1[_0x1b81c3(0x216)](_0x3c7362=>{const _0x371385=_0x1b81c3;_0x3c7362=capitalize(_0x3c7362);if(!_0x2baa9c['includes'](_0x3c7362))_0x131056[_0x371385(0x313)](_0x3c7362);}),_0x2baa9c;}function setStartDatePerformance(){const _0x2c85c6=_0x16a633;if(config&&config[_0x2c85c6(0x2bb)][0x0][_0x2c85c6(0x35a)]['length']!=0x0){const _0x2180c7=config[_0x2c85c6(0x2bb)][0x0][_0x2c85c6(0x35a)];dbPerformance[_0x2c85c6(0x2f8)](_0x2c85c6(0x1c5))[_0x2c85c6(0x248)]({'date':config[_0x2c85c6(0x2a9)]})['assign']({'coins':_0x2180c7})['write']();}}function calculatePnL(_0x4729a6,_0x3ab1f5,_0x587f69,_0x23cb9b,_0x1f77eb,_0x4d2502){const _0x2706bb=_0x16a633;!_0x4729a6[_0x2706bb(0x2f5)]('/'+config['basecoin'])&&(_0x587f69=_0x587f69==_0x2706bb(0x2e9)?_0x2706bb(0x1a9):'buy');!_0x4d2502[_0x3ab1f5]&&(_0x4d2502[_0x3ab1f5]={'number':0x0,'sells':0x0,'buys':0x0,'breakeven':0x0,'realizedPnL':0x0});let _0x50e4e4=0x0,_0x5ce23d,_0x1c430e;if(_0x587f69==_0x2706bb(0x2e9))_0x1c430e=_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]*_0x4d2502[_0x3ab1f5]['breakeven']+_0x1f77eb*_0x23cb9b,_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]+=_0x23cb9b,_0x4d2502[_0x3ab1f5][_0x2706bb(0x28b)]=_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]!=0x0?_0x1c430e/_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]:0x0,_0x4d2502[_0x3ab1f5][_0x2706bb(0x220)]++;else _0x587f69==_0x2706bb(0x1a9)&&(_0x5ce23d=Math[_0x2706bb(0x1b8)](_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)],_0x23cb9b),_0x50e4e4=(_0x1f77eb-_0x4d2502[_0x3ab1f5]['breakeven'])*_0x5ce23d,_0x1c430e=Math[_0x2706bb(0x32a)](_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]*_0x4d2502[_0x3ab1f5][_0x2706bb(0x28b)]-_0x5ce23d*_0x4d2502[_0x3ab1f5][_0x2706bb(0x28b)],0x0),_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]-=_0x5ce23d,_0x4d2502[_0x3ab1f5][_0x2706bb(0x28b)]=_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]!=0x0?_0x1c430e/_0x4d2502[_0x3ab1f5][_0x2706bb(0x230)]:0x0,_0x4d2502[_0x3ab1f5]['realizedPnL']+=_0x50e4e4,_0x4d2502[_0x3ab1f5]['sells']++);return _0x50e4e4;}async function generatePnL(){const _0x3761dc=_0x16a633;pnlGenerationNeeded=![],logger[_0x3761dc(0x1da)](_0x3761dc(0x2af));const _0x2891e4=dbLogs[_0x3761dc(0x2f8)](_0x3761dc(0x272))[_0x3761dc(0x25b)]();let _0x1b8dfc={},_0x170ec9=0x0,_0x11c152=0x0,_0x26dc3e=config[_0x3761dc(0x2a9)];const _0x4f465d=fns[_0x3761dc(0x205)](_0x26dc3e,_0x3761dc(0x26a),new Date()),_0x107595=new Date();let _0x581d35=0x0;for(let _0x4f3e8f=_0x4f465d;!fns['isBefore'](_0x107595,_0x4f3e8f);_0x4f3e8f=fns[_0x3761dc(0x32b)](_0x4f3e8f,0x1)){const _0x1fbdff=fns['format'](_0x4f3e8f,_0x3761dc(0x26a));while(_0x170ec9<_0x2891e4[_0x3761dc(0x1df)]){const _0x2326ba=new Date(_0x2891e4[_0x170ec9]['time']);if(fns['isBefore'](_0x2326ba,_0x4f3e8f))_0x170ec9++;else{if(_0x2891e4[_0x170ec9][_0x3761dc(0x243)][_0x3761dc(0x2f5)](_0x1fbdff)){const _0x3be8b6=_0x2891e4[_0x170ec9];if(_0x3be8b6[_0x3761dc(0x1d6)]===_0x3761dc(0x249)&&(_0x3be8b6[_0x3761dc(0x218)]['includes'](_0x3761dc(0x326))||_0x3be8b6[_0x3761dc(0x218)][_0x3761dc(0x2f5)](_0x3761dc(0x312)))){const _0x5bf65b=_0x3be8b6[_0x3761dc(0x218)][_0x3761dc(0x363)](/([A-Z]+\/[A-Z]+) (sell|buy) #([\d.]+) @([\d.]+)/);if(_0x5bf65b){const [,_0x3e389b,_0x478682,_0x267cbe,_0x129100]=_0x5bf65b,_0x3676c4=_0x3e389b[_0x3761dc(0x2f5)]('/'+config[_0x3761dc(0x208)])?_0x3e389b[_0x3761dc(0x281)]('/')[0x0]:_0x3e389b[_0x3761dc(0x281)]('/')[0x1],_0x51dd38=calculatePnL(_0x3e389b,_0x3676c4,_0x478682,parseFloat(_0x267cbe),parseFloat(_0x129100),_0x1b8dfc);_0x11c152+=_0x51dd38;}}_0x170ec9++;}else break;}}dbPerformance[_0x3761dc(0x2f8)]('data')[_0x3761dc(0x248)]({'date':_0x1fbdff})[_0x3761dc(0x321)]({'pnl':_0x11c152})[_0x3761dc(0x351)]();}dbCoinResults['set'](_0x3761dc(0x2e3),_0x1b8dfc)['write'](),logger[_0x3761dc(0x1da)](_0x3761dc(0x306));const _0x2ce3a2=getNormalizedPerformance();emitPerformance(_0x2ce3a2);}async function updatePnL(_0x52ab66){const _0xb7bd50=_0x16a633,{symbol:_0x389835,coin:_0x37d6c9,amount:_0x4a4711,price:_0x5c67f9,side:_0x3831ef,reverse:_0x3466cb}=_0x52ab66;let _0x2d0701=dbCoinResults[_0xb7bd50(0x2f8)](_0xb7bd50(0x2e3))[_0xb7bd50(0x25b)]();const _0x3858da=calculatePnL(_0x389835,_0x37d6c9,_0x3831ef,_0x4a4711,_0x5c67f9,_0x2d0701);dbCoinResults['set'](_0xb7bd50(0x2e3),_0x2d0701)['write']();const _0x4389a2=getTimeStamp()[_0xb7bd50(0x281)]('\x20')[0x0];let _0x1005c2=dbPerformance[_0xb7bd50(0x2f8)]('data')[_0xb7bd50(0x248)]({'date':_0x4389a2})['value']();_0x1005c2?(_0x1005c2[_0xb7bd50(0x1b3)]+=_0x3858da,dbPerformance[_0xb7bd50(0x2f8)](_0xb7bd50(0x1c5))[_0xb7bd50(0x248)]({'date':_0x4389a2})[_0xb7bd50(0x321)](_0x1005c2)['write']()):await storePerformance();const _0x33e549=getNormalizedPerformance();emitPerformance(_0x33e549);}async function validate24hChanges(){const _0x120343=_0x16a633;for(const _0x3ba9e3 of currentCoins){if(_0x3ba9e3[_0x120343(0x34f)]!=config[_0x120343(0x208)]){let _0x15641d;_0x3ba9e3[_0x120343(0x26d)]?_0x15641d=formatResult((0x1/(gChange[_0x3ba9e3[_0x120343(0x1c9)]]/0x64+0x1)-0x1)*0x64,0x3):_0x15641d=gChange[_0x3ba9e3[_0x120343(0x1c9)]],_0x15641d<config[_0x120343(0x311)]&&(logHistory('error',_0x3ba9e3['coin']+_0x120343(0x348)+_0x15641d+'%'),logHistory(_0x120343(0x255),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x120343(0x255),_0x120343(0x23b)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3435d5,_0x1635db){const _0x525d3a=_0x16a633;if(!_0x3435d5)return!![];const _0xa1e225=_0x1635db[_0x525d3a(0x281)]('.'),_0x4a1fa0=_0x3435d5[_0x525d3a(0x281)]('.');for(var _0x2588a7=0x0;_0x2588a7<_0x4a1fa0[_0x525d3a(0x1df)];_0x2588a7++){const _0x326d89=~~_0x4a1fa0[_0x2588a7],_0x1b9ba2=~~_0xa1e225[_0x2588a7];if(_0x326d89<_0x1b9ba2)return!![];if(_0x326d89>_0x1b9ba2)return![];}return![];}async function oneTimeMigration(){const _0x64d896=_0x16a633;let _0x11e9be=dbLogs[_0x64d896(0x2f8)](_0x64d896(0x2ff))['value']();if(isOlderVersion(_0x11e9be,_0x64d896(0x2be))){let _0x2a3b8a=[];const _0x59f8d1=dbLogs[_0x64d896(0x2f8)]('logs')['value']();_0x59f8d1[_0x64d896(0x216)](_0x4af548=>{const _0x345a9f=_0x64d896;_0x2a3b8a[_0x345a9f(0x313)]({'time':_0x4af548[_0x345a9f(0x243)],'type':_0x4af548[_0x345a9f(0x1d6)],'event':_0x4af548[_0x345a9f(0x218)]});}),dbLogs[_0x64d896(0x2f8)](_0x64d896(0x272))[_0x64d896(0x321)](_0x2a3b8a)[_0x64d896(0x351)]();}let _0x481560=dbConfig[_0x64d896(0x2f8)]('version')[_0x64d896(0x25b)]();if(isOlderVersion(_0x481560,_0x64d896(0x2be))){let _0x43273f=dbConfig[_0x64d896(0x2f8)](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x25b)]();if(_0x43273f){let _0x34a6da=[];_0x43273f[_0x64d896(0x252)][_0x64d896(0x216)](_0x583f40=>{const _0xcbb966=_0x64d896;_0x34a6da[_0xcbb966(0x313)]({'coin':_0x583f40[_0xcbb966(0x34f)],'number':_0x583f40[_0xcbb966(0x36d)],'price':_0x583f40[_0xcbb966(0x261)]}),delete _0x583f40[_0xcbb966(0x36d)],delete _0x583f40[_0xcbb966(0x261)];});if(_0x34a6da[_0x64d896(0x1df)]!==0x0)fs[_0x64d896(0x24e)](configbackuppath+(_0x64d896(0x1dd)+botID+'.json'),JSON[_0x64d896(0x2a4)](_0x34a6da,null,0x4),function(_0x2c7419){if(_0x2c7419){}});const _0x2affcd=(_0x294dfa,_0x3ba5c9)=>{const _0x423951=_0x64d896;let _0x1c9530=[];_0x3ba5c9['forEach'](_0x1e19ea=>{const _0x26dbf7=_0x13f1,_0xf51361=_0x294dfa[_0x26dbf7(0x248)](_0x3cb4a2=>_0x3cb4a2[_0x26dbf7(0x34f)]==_0x1e19ea[_0x26dbf7(0x34f)]);if(!_0xf51361)_0x1c9530[_0x26dbf7(0x313)](_0x1e19ea);});let _0x45f0db=[];return _0x294dfa[_0x423951(0x216)](_0x593e12=>{const _0x4c5ff0=_0x423951,_0x5d40a3=_0x3ba5c9[_0x4c5ff0(0x248)](_0x1a4a15=>_0x1a4a15['coin']==_0x593e12[_0x4c5ff0(0x34f)]);if(!_0x5d40a3||_0x5d40a3[_0x4c5ff0(0x230)]==0x0&&_0x593e12[_0x4c5ff0(0x230)]!=0x0)_0x45f0db[_0x4c5ff0(0x313)](_0x593e12);}),{'missingDay1':_0x1c9530,'notInDay2':_0x45f0db};},_0x4fbd7d=dbPerformance['get']('data')[_0x64d896(0x355)]()[_0x64d896(0x25b)]();if(_0x4fbd7d[_0x64d896(0x1df)]>0x1){const {missingDay1:_0xcfabd0,notInDay2:_0x38b185}=_0x2affcd(_0x34a6da,_0x4fbd7d[0x1][_0x64d896(0x2e3)]);_0x34a6da=[..._0x34a6da,..._0xcfabd0],_0x38b185['forEach'](_0x500915=>{const _0x29e852=_0x64d896;let _0x2a3b55=_0x34a6da[_0x29e852(0x27f)](_0x304e23=>_0x304e23['coin']==_0x500915[_0x29e852(0x34f)]);_0x2a3b55!=-0x1&&_0x34a6da[_0x29e852(0x301)](_0x2a3b55,0x1);});}_0x34a6da[_0x64d896(0x2b0)]((_0x420750,_0x56bea7)=>_0x420750[_0x64d896(0x34f)]>_0x56bea7['coin']?0x1:_0x56bea7[_0x64d896(0x34f)]>_0x420750[_0x64d896(0x34f)]?-0x1:0x0);let _0xe54a74=[{'date':_0x43273f[_0x64d896(0x2a9)],'changes':_0x34a6da}];_0x4fbd7d[_0x64d896(0x1df)]>0x2&&_0x4fbd7d[_0x64d896(0x216)]((_0x54e3a1,_0x3f67d7)=>{const _0x4c5c0f=_0x64d896;if(_0x3f67d7>0x0&&_0x3f67d7<_0x4fbd7d[_0x4c5c0f(0x1df)]-0x1){const {missingDay1:_0x4f7ac0,notInDay2:_0x7e70bb}=_0x2affcd(_0x4fbd7d[_0x3f67d7]['coins'],_0x4fbd7d[_0x3f67d7+0x1][_0x4c5c0f(0x2e3)]);_0x34a6da=[],(_0x4f7ac0[_0x4c5c0f(0x1df)]!=0x0||_0x7e70bb[_0x4c5c0f(0x1df)]!=0x0)&&(_0x4f7ac0[_0x4c5c0f(0x1df)]!=0x0&&_0x34a6da[_0x4c5c0f(0x313)](..._0x4f7ac0),_0x7e70bb[_0x4c5c0f(0x1df)]!=0x0&&(_0x7e70bb['forEach'](_0x5f264c=>{const _0x14b42b=_0x4c5c0f;_0x5f264c[_0x14b42b(0x230)]=-_0x5f264c[_0x14b42b(0x230)];}),_0x34a6da[_0x4c5c0f(0x313)](..._0x7e70bb)),_0x34a6da[_0x4c5c0f(0x2b0)]((_0x264135,_0x342763)=>_0x264135[_0x4c5c0f(0x34f)]>_0x342763[_0x4c5c0f(0x34f)]?0x1:_0x342763[_0x4c5c0f(0x34f)]>_0x264135[_0x4c5c0f(0x34f)]?-0x1:0x0),_0xe54a74[_0x4c5c0f(0x313)]({'date':_0x4fbd7d[_0x3f67d7+0x1][_0x4c5c0f(0x1dc)],'changes':_0x34a6da}));}}),dbConfig[_0x64d896(0x2f8)]('bot')['find']({'botID':botID})[_0x64d896(0x321)]({..._0x43273f,'liquidity':_0xe54a74})['write']();}}if(isOlderVersion(_0x481560,'2.6.0')){let _0x198a22=dbConfig[_0x64d896(0x2f8)]('bot')[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x25b)]();if(_0x198a22){const _0x240663=_0x198a22[_0x64d896(0x232)],_0x1b0a40=_0x240663?capitalize(_0x240663):_0x64d896(0x23e);dbConfig[_0x64d896(0x2f8)](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x321)]({'exchange':_0x1b0a40})[_0x64d896(0x351)]();}}if(isOlderVersion(_0x481560,_0x64d896(0x2d4))){let _0x31bb4b=dbConfig['get'](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x25b)]();if(_0x31bb4b){const _0x5de10b=_0x31bb4b['marketcapEnabled'],_0x26ab15=_0x5de10b?_0x64d896(0x2f9):![];dbConfig[_0x64d896(0x2f8)](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x321)]({'marketcapEnabled':_0x26ab15})['write']();}}if(isOlderVersion(_0x481560,'2.6.23')){let _0xbc228d=dbConfig[_0x64d896(0x2f8)](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x25b)]();if(_0xbc228d){const _0x352eea=_0xbc228d[_0x64d896(0x217)],_0xceee9=_0x352eea?_0x64d896(0x29d):![];dbConfig[_0x64d896(0x2f8)](_0x64d896(0x1fe))[_0x64d896(0x248)]({'botID':botID})[_0x64d896(0x321)]({'autoliquidity':_0xceee9})[_0x64d896(0x351)]();}}let _0x3c9808=dbPerformance[_0x64d896(0x2f8)]('version')['value']();isOlderVersion(_0x3c9808,_0x64d896(0x2be))&&setStartDatePerformance();let _0x3aaf56=dbCoinResults[_0x64d896(0x2f8)](_0x64d896(0x2ff))[_0x64d896(0x25b)]();if(isOlderVersion(_0x3aaf56,_0x64d896(0x260))){let _0x3ec2e1=dbCoinResults['get'](_0x64d896(0x2e3))['value']();if(_0x3ec2e1[_0x64d896(0x1df)]!=0x0)pnlGenerationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x58e4db=_0x16a633;dbConfig[_0x58e4db(0x1af)]('version',serverversion)['write'](),dbPerformance[_0x58e4db(0x1af)](_0x58e4db(0x2ff),serverversion)[_0x58e4db(0x351)](),dbLogs[_0x58e4db(0x1af)](_0x58e4db(0x2ff),serverversion)[_0x58e4db(0x351)](),dbCoinResults['set'](_0x58e4db(0x2ff),serverversion)[_0x58e4db(0x351)]();}function getConfiguration(_0x119e92){const _0x2bb2f5=_0x16a633;let _0x159641=dbConfig[_0x2bb2f5(0x2f8)]('bot')[_0x2bb2f5(0x248)]({'botID':_0x119e92})[_0x2bb2f5(0x25b)]();if(_0x159641){let _0x37e0cc=![];typeof _0x159641['threshold']==_0x2bb2f5(0x296)&&(_0x159641={..._0x159641,'threshold':Number(_0x159641[_0x2bb2f5(0x339)])},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x311)]==undefined&&(_0x159641={..._0x159641,'change24h':-0x14},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x2a8)]==undefined&&(_0x159641={..._0x159641,'fiat':_0x2bb2f5(0x286)},_0x37e0cc=!![]),_0x159641['onepagemode']==undefined&&(_0x159641={..._0x159641,'onepagemode':settings['onepagemode']},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x1fd)]==undefined&&(_0x159641={..._0x159641,'colorscheme':_0x2bb2f5(0x288)},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x217)]==undefined&&(_0x159641={..._0x159641,'autoliquidity':_0x2bb2f5(0x29d)},_0x37e0cc=!![]),_0x159641['marketcapApi']==undefined&&(_0x159641={..._0x159641,'marketcapApi':settings[_0x2bb2f5(0x2c6)]?!![]:![]},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x365)]==undefined&&(_0x159641={..._0x159641,'marketcapEnabled':![]},_0x37e0cc=!![]),_0x159641[_0x2bb2f5(0x2de)]==undefined&&(_0x159641={..._0x159641,'sandbox':![]},_0x37e0cc=!![]),_0x37e0cc&&(_0x159641={'botID':_0x159641['botID'],'exchange':_0x159641[_0x2bb2f5(0x232)],'apiKey':_0x159641[_0x2bb2f5(0x2ac)],'apiSecret':_0x159641[_0x2bb2f5(0x278)],'apiPassword':_0x159641[_0x2bb2f5(0x350)],'basecoin':_0x159641['basecoin'],'botname':_0x159641[_0x2bb2f5(0x22d)],'showname':_0x159641['showname'],'threshold':_0x159641[_0x2bb2f5(0x339)],'ordertype':_0x159641[_0x2bb2f5(0x222)],'timeout':_0x159641[_0x2bb2f5(0x21b)],'fiat':_0x159641[_0x2bb2f5(0x2a8)],'startdate':_0x159641[_0x2bb2f5(0x2a9)],'recreate':_0x159641[_0x2bb2f5(0x33a)],'timeshift':_0x159641[_0x2bb2f5(0x369)],'onepagemode':_0x159641[_0x2bb2f5(0x2f6)],'headless':_0x159641['headless'],'cooldown':_0x159641['cooldown'],'change24h':_0x159641[_0x2bb2f5(0x311)],'emojibuy':_0x159641['emojibuy'],'emojisell':_0x159641[_0x2bb2f5(0x275)],'colorscheme':_0x159641[_0x2bb2f5(0x1fd)],'marketcapApi':_0x159641[_0x2bb2f5(0x2c6)],'marketcapEnabled':_0x159641[_0x2bb2f5(0x365)],'sandbox':_0x159641[_0x2bb2f5(0x2de)],'portfolio':_0x159641[_0x2bb2f5(0x252)],'autoliquidity':_0x159641[_0x2bb2f5(0x217)],'liquidity':_0x159641[_0x2bb2f5(0x2bb)],'openOrders':_0x159641[_0x2bb2f5(0x2e2)]},dbConfig[_0x2bb2f5(0x2f8)](_0x2bb2f5(0x1fe))[_0x2bb2f5(0x22e)]()[_0x2bb2f5(0x351)](),dbConfig[_0x2bb2f5(0x2f8)](_0x2bb2f5(0x1fe))[_0x2bb2f5(0x313)](_0x159641)[_0x2bb2f5(0x351)]());}else _0x159641={'botID':_0x119e92,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2bb2f5(0x319)+_0x119e92,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x2bb2f5(0x286),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2bb2f5(0x369)],'onepagemode':settings[_0x2bb2f5(0x2f6)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2bb2f5(0x288),'marketcapApi':settings[_0x2bb2f5(0x2c6)]?!![]:![],'marketcapEnabled':![],'sandbox':![],'portfolio':[],'autoliquidity':_0x2bb2f5(0x29d),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x159641;}function emittedConfiguration(){const _0x4f0042=_0x16a633;let _0x3354bd;if(config['apiKey']=='')_0x3354bd={...config,'configstate':'initial'};else config[_0x4f0042(0x2ac)]==_0x4f0042(0x322)?_0x3354bd={...config,'configstate':_0x4f0042(0x376)}:(_0x3354bd={...config,'apiKey':_0x4f0042(0x34a),'apiSecret':_0x4f0042(0x34a)},config['apiPassword']&&(_0x3354bd[_0x4f0042(0x350)]=_0x4f0042(0x34a)));return _0x3354bd['enableFiatToggle']=enableFiatToggle,_0x3354bd;}function getSettings(){const _0x4b9afb=_0x16a633;return dbSettings[_0x4b9afb(0x2f8)](_0x4b9afb(0x251))[_0x4b9afb(0x25b)]();}function getSecure(){const _0x23fe55=_0x16a633;return dbSecure[_0x23fe55(0x2f8)](_0x23fe55(0x1e1))[_0x23fe55(0x25b)]()||{};}function updateTimeshift(_0x46f649){const _0x11868e=_0x16a633;let _0x40ece9=dbConfig[_0x11868e(0x2f8)](_0x11868e(0x1fe))[_0x11868e(0x248)]({'botID':botID})[_0x11868e(0x25b)]();_0x40ece9&&dbConfig[_0x11868e(0x2f8)]('bot')[_0x11868e(0x248)]({'botID':botID})[_0x11868e(0x321)]({'timeshift':_0x46f649})['write'](),config['timeshift']=_0x46f649,proxyEmit(_0x11868e(0x329),emittedConfiguration());}function updateOnepagemode(_0x440688){const _0x2aa8a6=_0x16a633;let _0x4f4cb7=dbConfig[_0x2aa8a6(0x2f8)](_0x2aa8a6(0x1fe))['find']({'botID':botID})[_0x2aa8a6(0x25b)]();_0x4f4cb7&&dbConfig[_0x2aa8a6(0x2f8)](_0x2aa8a6(0x1fe))[_0x2aa8a6(0x248)]({'botID':botID})['assign']({'onepagemode':_0x440688})[_0x2aa8a6(0x351)](),config['onepagemode']=_0x440688,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x35ccfe){const _0x1c4ab3=_0x16a633,_0x2365f2=_0x35ccfe?!![]:![];let _0x217dc9=dbConfig[_0x1c4ab3(0x2f8)](_0x1c4ab3(0x1fe))[_0x1c4ab3(0x248)]({'botID':botID})['value']();_0x217dc9&&dbConfig[_0x1c4ab3(0x2f8)]('bot')['find']({'botID':botID})[_0x1c4ab3(0x321)]({'marketcapApi':_0x2365f2})[_0x1c4ab3(0x351)](),config['marketcapApi']=_0x2365f2,getMarketCap(),proxyEmit(_0x1c4ab3(0x329),emittedConfiguration());}async function storeConfiguration(_0x7cc8d7){const _0xd10673=_0x16a633;logger[_0xd10673(0x1da)](_0xd10673(0x199));_0x7cc8d7[_0xd10673(0x233)]&&delete _0x7cc8d7[_0xd10673(0x233)];if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x4ab73c=![],_0x15f41f=![],_0x222e9f=[];_0x7cc8d7['portfolio'][_0xd10673(0x216)](_0x1cecbb=>{const _0x45b8eb=_0xd10673;if(!_0x1cecbb[_0x45b8eb(0x214)]&&_0x1cecbb[_0x45b8eb(0x34f)]!=_0x7cc8d7[_0x45b8eb(0x208)])_0x222e9f[_0x45b8eb(0x313)](_0x1cecbb[_0x45b8eb(0x1c9)]);}),_0x222e9f[_0xd10673(0x216)](_0x1d7525=>{const _0x15b8a0=currentCoins['find'](_0x555f99=>_0x555f99['symbol']==_0x1d7525);!_0x15b8a0&&(_0x4ab73c=!![]);}),currentCoins[_0xd10673(0x216)](_0x36dcd2=>{const _0x10a0e9=_0xd10673;if(_0x36dcd2['coin']!=config[_0x10a0e9(0x208)]){const _0x425d78=_0x222e9f['find'](_0x47e0d5=>_0x47e0d5==_0x36dcd2[_0x10a0e9(0x1c9)]);!_0x425d78&&(_0x4ab73c=!![]);}}),_0x7cc8d7[_0xd10673(0x252)][_0xd10673(0x216)](_0x21ad60=>{const _0x1da14d=_0xd10673,_0xb3a826=config[_0x1da14d(0x252)]['find'](_0x3efe1c=>_0x3efe1c['coin']==_0x21ad60[_0x1da14d(0x34f)]);if(_0xb3a826&&_0x21ad60[_0x1da14d(0x318)]!=_0xb3a826['offset'])_0x15f41f=!![];});let _0x403471=dbConfig[_0xd10673(0x2f8)](_0xd10673(0x1fe))['find']({'botID':botID})['value']();_0x7cc8d7={..._0x7cc8d7,'apiKey':decryptRSA(secure[_0xd10673(0x353)],_0x7cc8d7[_0xd10673(0x2ac)]),'apiSecret':decryptRSA(secure['privateKey'],_0x7cc8d7[_0xd10673(0x278)])};_0x7cc8d7[_0xd10673(0x350)]&&(_0x7cc8d7['apiPassword']=decryptRSA(secure[_0xd10673(0x353)],_0x7cc8d7[_0xd10673(0x350)]));let _0x4c44de=![];if(_0x403471){_0x7cc8d7[_0xd10673(0x2ac)]=='************'?_0x7cc8d7[_0xd10673(0x2ac)]=config['apiKey']:_0x4c44de=!![];_0x7cc8d7[_0xd10673(0x278)]==_0xd10673(0x34a)?_0x7cc8d7[_0xd10673(0x278)]=config[_0xd10673(0x278)]:_0x4c44de=!![];if(_0x7cc8d7[_0xd10673(0x350)]=='************')_0x7cc8d7[_0xd10673(0x350)]=config[_0xd10673(0x350)];else{if(_0x7cc8d7[_0xd10673(0x350)])_0x4c44de=!![];}dbConfig[_0xd10673(0x2f8)]('bot')[_0xd10673(0x248)]({'botID':botID})[_0xd10673(0x321)](_0x7cc8d7)[_0xd10673(0x351)]();}else dbConfig[_0xd10673(0x2f8)](_0xd10673(0x1fe))['push'](_0x7cc8d7)[_0xd10673(0x351)](),_0x4c44de=!![],process['send']({'status':_0xd10673(0x2a7),'live':_0xd10673(0x2e6)},_0xa136c7=>{});process[_0xd10673(0x2c3)]({'botname':_0x7cc8d7[_0xd10673(0x22d)]},_0x30e2a7=>{}),config={..._0x7cc8d7},updateBotManager(),proxyEmit(_0xd10673(0x24c)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4c44de)await reset(!![]);else _0x4ab73c||_0x15f41f?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x21855f){const _0x2b4540=_0x16a633,_0x41226d={...config,'headless':_0x21855f['headless']};let _0x21bbed=dbConfig[_0x2b4540(0x2f8)](_0x2b4540(0x1fe))[_0x2b4540(0x248)]({'botID':botID})[_0x2b4540(0x25b)]();_0x21bbed&&dbConfig[_0x2b4540(0x2f8)](_0x2b4540(0x1fe))['find']({'botID':botID})['assign'](_0x41226d)[_0x2b4540(0x351)](),config={..._0x41226d},updateBotManager(),proxyEmit(_0x2b4540(0x329),emittedConfiguration());}async function storeFiat(_0x43e797){const _0x1c40e0=_0x16a633,_0xa641e6={...config,'fiat':_0x43e797};let _0x186e5f=dbConfig['get'](_0x1c40e0(0x1fe))[_0x1c40e0(0x248)]({'botID':botID})['value']();_0x186e5f&&dbConfig['get']('bot')[_0x1c40e0(0x248)]({'botID':botID})[_0x1c40e0(0x321)](_0xa641e6)[_0x1c40e0(0x351)](),config={..._0xa641e6},proxyEmit(_0x1c40e0(0x329),emittedConfiguration());}function resetHistory(){const _0x409eb2=_0x16a633;logger['full'](_0x409eb2(0x210));try{if(fs[_0x409eb2(0x310)](path['join'](configpath,_0x409eb2(0x245)+botID+'-events.json')))fs[_0x409eb2(0x1c6)](path['join'](configpath,_0x409eb2(0x245)+botID+_0x409eb2(0x2bd)));if(fs[_0x409eb2(0x310)](path[_0x409eb2(0x2ce)](configpath,'bot-'+botID+_0x409eb2(0x236))))fs['unlinkSync'](path[_0x409eb2(0x2ce)](configpath,_0x409eb2(0x245)+botID+_0x409eb2(0x236)));if(fs['existsSync'](path['join'](configpath,_0x409eb2(0x245)+botID+_0x409eb2(0x33f))))fs['unlinkSync'](path[_0x409eb2(0x2ce)](configpath,_0x409eb2(0x245)+botID+'-results.json'));}catch(_0xf50198){if(_0xf50198)logger[_0x409eb2(0x30e)](_0x409eb2(0x227),_0xf50198);}const _0x1b9610=getDate();let _0x3ad2d6=[];currentCoins[_0x409eb2(0x216)](_0x1562d4=>{const _0x2f9b8d=_0x409eb2;_0x3ad2d6[_0x2f9b8d(0x313)]({'coin':_0x1562d4['coin'],'number':_0x1562d4['number'],'price':_0x1562d4[_0x2f9b8d(0x359)]});});let _0x508620=dbConfig[_0x409eb2(0x2f8)]('bot')[_0x409eb2(0x248)]({'botID':botID})[_0x409eb2(0x25b)]();_0x508620&&(dbConfig[_0x409eb2(0x2f8)](_0x409eb2(0x1fe))[_0x409eb2(0x248)]({'botID':botID})[_0x409eb2(0x321)]({'liquidity':[{'date':_0x1b9610,'changes':_0x3ad2d6}]})['write'](),config[_0x409eb2(0x2bb)]=[]),restartBot(!![]);}function noslash(_0x4c1748){const _0x11c8c8=_0x16a633;return _0x4c1748[_0x11c8c8(0x1b6)]('/','');}function updateHighestFee(_0x321f06){const _0xf94dd6=_0x16a633;if(_0x321f06[_0xf94dd6(0x26d)]){let _0x272973={'filled':_0x321f06[_0xf94dd6(0x2a3)]*_0x321f06[_0xf94dd6(0x377)],'amount':_0x321f06[_0xf94dd6(0x2a3)]*_0x321f06[_0xf94dd6(0x377)],'side':_0x321f06[_0xf94dd6(0x25d)]==_0xf94dd6(0x1a9)?_0xf94dd6(0x2e9):_0xf94dd6(0x1a9),'price':0x1/_0x321f06[_0xf94dd6(0x377)]};_0x321f06={..._0x321f06,..._0x272973};}const _0x82159c=defaultFee*_0x321f06[_0xf94dd6(0x2a3)]*_0x321f06[_0xf94dd6(0x377)];lastFees[_0xf94dd6(0x345)]['length']===0x14&&lastFees[_0xf94dd6(0x345)][_0xf94dd6(0x27a)](),lastFees[_0xf94dd6(0x345)][_0xf94dd6(0x313)](_0x82159c),lastFees[_0xf94dd6(0x2ef)]=Math[_0xf94dd6(0x32a)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x7e33d9){const _0x2bcdb6=_0x16a633;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x7e33d9[_0x2bcdb6(0x1c9)]+_0x2bcdb6(0x257)+_0x7e33d9['status']+'\x20|\x20'+_0x7e33d9[_0x2bcdb6(0x2a3)]+_0x2bcdb6(0x1ca)+_0x7e33d9[_0x2bcdb6(0x2fa)]+_0x2bcdb6(0x257)+_0x7e33d9['id']);let _0x2b2203=_0x7e33d9[_0x2bcdb6(0x31e)],_0x54ea78=![];currentCoins[_0x2bcdb6(0x216)](_0xedd2e2=>{const _0x362360=_0x2bcdb6;_0xedd2e2[_0x362360(0x1c9)]==_0x7e33d9[_0x362360(0x1c9)]&&(_0x54ea78=!![]);});if(!_0x54ea78)return;const _0xe2103a=currentCoins[_0x2bcdb6(0x248)](_0x23be76=>_0x23be76[_0x2bcdb6(0x1c9)]==_0x7e33d9[_0x2bcdb6(0x1c9)]),_0x471479=_0xe2103a['coin'],_0x1d6cc3=_0x4312cf=>{const _0x5054cc=_0x2bcdb6,_0x4be0b7=currentCoins['find'](_0x3fe884=>_0x3fe884[_0x5054cc(0x1c9)]==_0x7e33d9['symbol']);if(_0x4be0b7)_0x4be0b7[_0x5054cc(0x2f2)]=_0x4312cf;};let _0x11a5eb=![];for(const _0x2dbf15 of lastOrders){const _0x664513=0x64,_0x4df42a=0x1388;let _0x593ead=0x0;while(!_0x2dbf15[_0x2bcdb6(0x2cb)]&&_0x593ead*_0x664513<_0x4df42a){_0x593ead++,await sleep(_0x664513);}if(_0x593ead>0x0)logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x1be)+_0x593ead*_0x664513/0x3e8+_0x2bcdb6(0x347));_0x2dbf15[_0x2bcdb6(0x2cb)]==_0x7e33d9['id']&&(_0x11a5eb=!![]);}if(_0x2b2203==_0x2bcdb6(0x26e)){_0x1d6cc3(_0x2bcdb6(0x26e));if(_0x7e33d9[_0x2bcdb6(0x2a3)]>0x0&&_0x7e33d9[_0x2bcdb6(0x2a3)]<_0x7e33d9[_0x2bcdb6(0x2fa)]){if(_0x11a5eb){setBlockTransactionDetection(!![]),logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x19d)+_0x7e33d9[_0x2bcdb6(0x2a3)]+')\x20known\x20order:\x20'+_0x7e33d9['id']);const _0x407d42=await getCoins(balanceUpdateDelay,undefined,undefined,_0x471479);[currentCoins,currentCoinsAll]=_0x407d42,setBlockTransactionDetection(![]);}else logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x19d)+_0x7e33d9[_0x2bcdb6(0x2a3)]+_0x2bcdb6(0x1a0)+_0x7e33d9['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2b2203==_0x2bcdb6(0x320)){_0x1d6cc3(_0x2bcdb6(0x320)),lastOrders=lastOrders[_0x2bcdb6(0x25e)](_0x4ceeb9=>_0x4ceeb9[_0x2bcdb6(0x1c9)]!=_0x7e33d9[_0x2bcdb6(0x1c9)]);const _0xdea8cf=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xdea8cf,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2b2203==_0x2bcdb6(0x1ed)){if(lastOrders)for(const _0x5c076c of lastOrders){if(_0x5c076c[_0x2bcdb6(0x2cb)]==_0x7e33d9['id']){logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x1ba)+_0x7e33d9['id']),_0x11a5eb=!![];if(_0x5c076c[_0x2bcdb6(0x2a3)]==0x0){setBlockTransactionDetection(!![]),logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x22a)+_0x7e33d9['id']);if(_0x7e33d9[_0x2bcdb6(0x30f)])_0x5c076c[_0x2bcdb6(0x377)]=_0x7e33d9[_0x2bcdb6(0x30f)];else{if(_0x7e33d9[_0x2bcdb6(0x377)])_0x5c076c['price']=_0x7e33d9[_0x2bcdb6(0x377)];else{}}_0x5c076c['filled']=_0x7e33d9[_0x2bcdb6(0x2a3)],updateHighestFee(_0x5c076c);const _0x5aa75e=await getCoins(balanceUpdateDelay,undefined,undefined,_0x471479);[currentCoins,currentCoinsAll]=_0x5aa75e,setBlockTransactionDetection(![]),await validateOrders(),_0x1d6cc3('filled'),_0x5c076c[_0x2bcdb6(0x1c0)]={'currency':_0x7e33d9[_0x2bcdb6(0x1c0)]?_0x7e33d9[_0x2bcdb6(0x1c0)][_0x2bcdb6(0x1f3)]:null,'cost':_0x7e33d9['fee']?_0x7e33d9[_0x2bcdb6(0x1c0)][_0x2bcdb6(0x1f0)]:0x0},await updatePnL(_0x5c076c);}}}!_0x11a5eb&&(logger[_0x2bcdb6(0x1da)](_0x2bcdb6(0x2fd)+_0x7e33d9['id']),_0x1d6cc3(_0x2bcdb6(0x2a3)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x7f9b88=JSON[_0x2bcdb6(0x205)](lastBalances['portfolio']);const _0x311a19=_0x7f9b88[_0x2bcdb6(0x248)](_0x5c64a3=>_0x5c64a3['symbol']==_0x7e33d9[_0x2bcdb6(0x1c9)]);if(_0x311a19){if(_0x2b2203==_0x2bcdb6(0x26e))_0x311a19['orderstatus']=_0x311a19[_0x2bcdb6(0x2f2)]==_0x2bcdb6(0x2a3)?_0x2bcdb6(0x2a3):_0x2bcdb6(0x26e);else{if(_0x2b2203==_0x2bcdb6(0x320))_0x311a19[_0x2bcdb6(0x2f2)]=_0x311a19['orderstatus']==_0x2bcdb6(0x2a3)?'filled':_0x2bcdb6(0x320);else _0x2b2203==_0x2bcdb6(0x1ed)&&(_0x311a19[_0x2bcdb6(0x2f2)]=_0x2bcdb6(0x2a3));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2bcdb6(0x2a4)](_0x7f9b88)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x20b076=_0x16a633;await getOpenOrders();let _0x426010=![];currentCoins[_0x20b076(0x216)](_0x352107=>{const _0x51ed03=_0x20b076;_0x426010=allOpenOrders['find'](_0x5b2134=>_0x5b2134['symbol']==_0x352107[_0x51ed03(0x1c9)]),_0x352107[_0x51ed03(0x2f2)]=_0x426010?_0x51ed03(0x26e):_0x51ed03(0x1cf);});}async function fetchBalance(_0x24da7c=!![]){const _0x26ab5e=_0x16a633;let _0x391c69,_0x49de99,_0x15aae2,_0x4f6567=0x0;while(!_0x49de99&&_0x4f6567<maxRetries){try{return _0x391c69=await exchange[_0x26ab5e(0x25a)](),_0x49de99=_0x391c69['total'],_0x49de99;}catch(_0x473ff3){_0x15aae2=_0x473ff3,_0x4f6567++,await sleep(retryInterval);}}return!_0x24da7c?handleErrorNoStop(_0x15aae2,_0x26ab5e(0x246)):await handleError(_0x15aae2,_0x26ab5e(0x246)),![];}async function getCoins(_0x357228=0x0,_0x5845e4=!![],_0x4c0587=config['basecoin'],_0x4c87df){const _0x556b92=_0x16a633;let _0x259273=[],_0x1aadf1=[],_0x5af3bf=[],_0x348db9;if(_0x357228)await sleep(_0x357228);if(botPaused)return[currentCoins,currentCoinsAll];let _0xa84ece=![],_0x483d65=0x0,_0x3c200b,_0x32edce;_0x4c87df&&(_0x3c200b=currentCoins[_0x556b92(0x248)](_0x45ebc5=>_0x45ebc5[_0x556b92(0x34f)]==_0x4c87df),_0x3c200b&&(_0x32edce=_0x3c200b[_0x556b92(0x27c)],delete _0x3c200b['prevnumber']));while(!_0xa84ece){_0x348db9=await fetchBalance(_0x5845e4);if(_0x348db9){if(_0x4c87df){if(_0x348db9[_0x4c87df]!=_0x32edce)logger[_0x556b92(0x1da)](_0x556b92(0x303)+_0x4c87df+':\x20'+_0x348db9[_0x4c87df]+'\x20('+_0x32edce+')'),_0xa84ece=!![];else{logger[_0x556b92(0x1da)]('Invalid\x20balance\x20for\x20'+_0x4c87df+':\x20'+_0x348db9[_0x4c87df]+'\x20('+_0x32edce+')'),_0x483d65++;if(_0x483d65<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x556b92(0x1da)](_0x556b92(0x35d)+_0x483d65+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0xa46347,_0x38fc7a]of Object['entries'](_0x348db9)){_0x5af3bf['push'](_0xa46347);}config[_0x556b92(0x252)][_0x556b92(0x216)](_0x574d0a=>{const _0x5e8b7e=_0x556b92;!_0x5af3bf[_0x5e8b7e(0x2f5)](_0x574d0a[_0x5e8b7e(0x34f)])&&(_0x348db9[_0x574d0a['coin']]=0x0);});if(_0x4c0587=='')for(const [_0x427fc6,_0x194704]of Object['entries'](_0x348db9)){_0x194704!=0x0&&_0x259273['push']({'coin':_0x427fc6});}else for(const [_0x40db12,_0x3992ef]of Object['entries'](_0x348db9)){const _0x1ddc27=config[_0x556b92(0x252)][_0x556b92(0x248)](_0x1312de=>_0x1312de[_0x556b92(0x34f)]==_0x40db12),_0x649fcc=_0x40db12+'/'+_0x4c0587,_0x12eab8=_0x4c0587+'/'+_0x40db12,_0x5d6e27=currentCoins[_0x556b92(0x248)](_0x51348c=>_0x51348c[_0x556b92(0x34f)]==_0x40db12);if((_0x3992ef!=0x0||_0x1ddc27)&&(allSymbols[_0x556b92(0x2f5)](_0x649fcc)||_0x40db12==_0x4c0587))_0x5d6e27?_0x259273[_0x556b92(0x313)]({..._0x5d6e27,'number':Math[_0x556b92(0x32a)](_0x3992ef+(_0x1ddc27&&_0x1ddc27[_0x556b92(0x318)]||0x0),0x0)}):_0x259273['push']({'coin':_0x40db12,'symbol':_0x649fcc,'reverse':![],'number':Math[_0x556b92(0x32a)](_0x3992ef+(_0x1ddc27&&_0x1ddc27['offset']||0x0),0x0),'orderstatus':_0x556b92(0x1cf)});else{if((_0x3992ef!=0x0||_0x1ddc27)&&allSymbols['includes'](_0x12eab8))_0x5d6e27?_0x259273[_0x556b92(0x313)]({..._0x5d6e27,'number':Math['max'](_0x3992ef+(_0x1ddc27&&_0x1ddc27[_0x556b92(0x318)]||0x0),0x0)}):_0x259273['push']({'coin':_0x40db12,'symbol':_0x12eab8,'reverse':!![],'number':Math[_0x556b92(0x32a)](_0x3992ef+(_0x1ddc27&&_0x1ddc27['offset']||0x0),0x0),'orderstatus':_0x556b92(0x1cf)});else _0x1ddc27&&_0x259273['push']({'coin':_0x1ddc27[_0x556b92(0x34f)],'symbol':_0x1ddc27['symbol'],'reverse':_0x1ddc27[_0x556b92(0x26d)],'number':0x0,'orderstatus':_0x556b92(0x1cf)});}}return _0x259273['sort']((_0x44075a,_0x493566)=>_0x44075a[_0x556b92(0x34d)]<_0x493566[_0x556b92(0x34d)]?0x1:_0x493566[_0x556b92(0x34d)]<_0x44075a[_0x556b92(0x34d)]?-0x1:0x0),_0x1aadf1=cloneDeep(_0x259273),_0x259273=_0x259273[_0x556b92(0x25e)](_0x31752c=>{const _0x5c02e9=_0x556b92,_0x317d9b=config[_0x5c02e9(0x252)][_0x5c02e9(0x248)](_0x1770a8=>_0x1770a8[_0x5c02e9(0x34f)]==_0x31752c[_0x5c02e9(0x34f)]);return _0x317d9b&&!_0x317d9b[_0x5c02e9(0x214)];}),[_0x259273,_0x1aadf1];}async function getOpenOrders(){const _0x506347=_0x16a633;let _0x494189;allOpenOrders=[];try{for(const _0x557717 of config[_0x506347(0x252)]){!_0x557717[_0x506347(0x214)]&&_0x557717[_0x506347(0x34f)]!=config[_0x506347(0x208)]&&(_0x494189=await exchange['fetchOpenOrders'](_0x557717[_0x506347(0x1c9)]),_0x494189['length']>0x0&&allOpenOrders[_0x506347(0x313)](_0x494189[0x0]));}}catch(_0x308c3f){await handleError(_0x308c3f,_0x506347(0x1c3));}}async function handleOpenOrders(_0x28acfe=0x0){const _0x16fa63=_0x16a633;allOpenOrders[_0x16fa63(0x1df)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x28acfe==0x0?(logger['debug'](_0x16fa63(0x259)),_0x28acfe++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x16fa63(0x1da)](_0x16fa63(0x366)),validateOrders(_0x16fa63(0x1e9))));}async function testAPI(){const _0x3d7175=_0x16a633;try{return await exchange['fetchBalance'](),!![];}catch(_0x28ed35){loading['cancel']=!![],_0x28ed35[_0x3d7175(0x25f)]()[_0x3d7175(0x1f4)]()['includes'](_0x3d7175(0x2e0))||_0x28ed35['toString']()[_0x3d7175(0x1f4)]()[_0x3d7175(0x2f5)](_0x3d7175(0x328))?(logHistory(_0x3d7175(0x255),_0x3d7175(0x2b7)),loading[_0x3d7175(0x255)]=_0x3d7175(0x2fc)):handleErrorNoStop(_0x28ed35,_0x3d7175(0x21c),!![]),logHistory(_0x3d7175(0x255),'Failed\x20to\x20connect\x20to\x20the\x20exchange\x20-\x20bot\x20not\x20started'),logHistory(_0x3d7175(0x255),_0x3d7175(0x36a)+loadCoinsRetryInterval/0xea60+_0x3d7175(0x344)),logger[_0x3d7175(0x1da)](_0x3d7175(0x273),_0x28ed35),emitLoadingProgress(),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot();}}async function testNewAPI(_0x5d61ea){const _0x32aecc=_0x16a633;logger[_0x32aecc(0x1da)](_0x32aecc(0x1bd));const _0x366236=ccxt[_0x32aecc(0x228)][_0x5d61ea[_0x32aecc(0x232)][_0x32aecc(0x1f4)]()],_0x187a23=new _0x366236({'apiKey':_0x5d61ea[_0x32aecc(0x2ac)],'secret':_0x5d61ea[_0x32aecc(0x278)],'options':{'defaultType':_0x32aecc(0x237)}});if(_0x5d61ea[_0x32aecc(0x350)])_0x187a23[_0x32aecc(0x1f2)]=_0x5d61ea[_0x32aecc(0x350)];if(_0x187a23[_0x32aecc(0x362)][_0x32aecc(0x2de)])_0x187a23['setSandboxMode'](_0x5d61ea[_0x32aecc(0x2de)]);if(_0x5d61ea['exchange']['toLowerCase']()==_0x32aecc(0x2a2))_0x187a23[_0x32aecc(0x1b1)][_0x32aecc(0x2ee)]=operatorId;try{await _0x187a23[_0x32aecc(0x25a)](),botPaused=![];}catch(_0x2709f3){logger[_0x32aecc(0x1da)]('Error\x20in\x20testNewAPI():\x20'+_0x2709f3[_0x32aecc(0x25f)]());throw _0x2709f3;}}function cloneDeep(_0x22cccf){const _0x26073d=_0x16a633;return JSON['parse'](JSON[_0x26073d(0x2a4)](_0x22cccf));}async function getPortfolio(_0x5cc108){const _0x1823b4=_0x16a633;let _0x14b463=[],_0xba782f=[],_0x33ae5a=[],_0x4e73ed;_0x5cc108[_0x1823b4(0x2ac)]=decryptRSA(secure[_0x1823b4(0x353)],_0x5cc108[_0x1823b4(0x2ac)]),_0x5cc108[_0x1823b4(0x278)]=decryptRSA(secure['privateKey'],_0x5cc108[_0x1823b4(0x278)]);if(_0x5cc108[_0x1823b4(0x350)])_0x5cc108[_0x1823b4(0x350)]=decryptRSA(secure['privateKey'],_0x5cc108[_0x1823b4(0x350)]);if(_0x5cc108['apiKey']!=='************'||_0x5cc108[_0x1823b4(0x278)]!=='************'||_0x5cc108[_0x1823b4(0x350)]&&_0x5cc108[_0x1823b4(0x350)]!==_0x1823b4(0x34a)){if(config[_0x1823b4(0x232)]){if(_0x5cc108[_0x1823b4(0x2ac)]==_0x1823b4(0x34a))_0x5cc108[_0x1823b4(0x2ac)]=config[_0x1823b4(0x2ac)];if(_0x5cc108[_0x1823b4(0x278)]==_0x1823b4(0x34a))_0x5cc108['apiSecret']=config[_0x1823b4(0x278)];if(_0x5cc108['apiPassword']==_0x1823b4(0x34a))_0x5cc108[_0x1823b4(0x350)]=config[_0x1823b4(0x350)];}try{if(_0x5cc108['testApi'])await testNewAPI(_0x5cc108);}catch(_0x210315){if(_0x210315[_0x1823b4(0x25f)]()[_0x1823b4(0x2f5)]('AuthenticationError')){logHistory(_0x1823b4(0x255),_0x1823b4(0x314)),logHistory(_0x1823b4(0x255),_0x1823b4(0x24f)+_0x210315[_0x1823b4(0x25f)]()),proxyEmit(_0x1823b4(0x2eb),![]);return;}else{if(_0x210315[_0x1823b4(0x25f)]()[_0x1823b4(0x2f5)](_0x1823b4(0x250))){logHistory('error',_0x1823b4(0x29e)),logHistory(_0x1823b4(0x255),_0x1823b4(0x24f)+_0x210315[_0x1823b4(0x25f)]()),proxyEmit(_0x1823b4(0x2eb),![]);return;}else{logHistory(_0x1823b4(0x255),_0x1823b4(0x293)+_0x210315['toString']()),logger[_0x1823b4(0x1da)](_0x1823b4(0x273),_0x210315),proxyEmit(_0x1823b4(0x2eb),![]);return;}}}exchange?updateExchange(_0x5cc108[_0x1823b4(0x2ac)],_0x5cc108[_0x1823b4(0x278)],_0x5cc108[_0x1823b4(0x350)]):await initExchange(_0x5cc108[_0x1823b4(0x232)],_0x5cc108[_0x1823b4(0x2ac)],_0x5cc108[_0x1823b4(0x278)],_0x5cc108[_0x1823b4(0x350)],_0x5cc108['sandbox']);await loadSymbols();const _0x194a52=await getCoins(0x0,![],_0x5cc108['basecoin']);_0x33ae5a=cloneDeep(_0x194a52[0x1]);}else{const _0x50af73=await getCoins();_0x33ae5a=cloneDeep(_0x50af73[0x1]);}if(_0x5cc108['basecoin']=='')proxyEmit(_0x1823b4(0x2eb),!![]),proxyEmit('portfolio2',_0x33ae5a);else{_0x33ae5a[_0x1823b4(0x216)](_0x90ca06=>{const _0x4a6f6e=_0x1823b4;if(_0x90ca06[_0x4a6f6e(0x34f)]!=_0x5cc108[_0x4a6f6e(0x208)]&&allSymbols[_0x4a6f6e(0x2f5)](_0x90ca06[_0x4a6f6e(0x1c9)]))_0x14b463[_0x4a6f6e(0x313)](_0x90ca06[_0x4a6f6e(0x1c9)]);});if(_0x14b463[_0x1823b4(0x1df)]==0x0)logHistory(_0x1823b4(0x255),_0x1823b4(0x2d1));else{try{_0xba782f=await getTickers(_0x14b463);}catch(_0x4958cb){logHistory(_0x1823b4(0x255),_0x1823b4(0x2ba)),logger[_0x1823b4(0x1da)](_0x1823b4(0x273),_0x4958cb),proxyEmit(_0x1823b4(0x2eb),![]);return;}_0x33ae5a['forEach'](_0x53a537=>{const _0x399fce=_0x1823b4;_0x53a537[_0x399fce(0x34f)]!=_0x5cc108[_0x399fce(0x208)]?_0xba782f[_0x53a537['symbol']]?_0xba782f[_0x53a537[_0x399fce(0x1c9)]][_0x399fce(0x359)]?_0x4e73ed=_0x53a537[_0x399fce(0x26d)]?0x1/_0xba782f[_0x53a537[_0x399fce(0x1c9)]][_0x399fce(0x359)]:_0xba782f[_0x53a537['symbol']][_0x399fce(0x359)]:_0x4e73ed=0x0:_0x4e73ed=0x0:_0x4e73ed=0x1,_0x53a537[_0x399fce(0x377)]=formatResult(_0x4e73ed,0x8);}),await getMarketCap(_0x33ae5a),proxyEmit(_0x1823b4(0x2eb),!![]),proxyEmit(_0x1823b4(0x30c),_0x33ae5a);}}}function truncateTradeAmount(_0x5ba2a4,_0x54078b){const _0xff1bf7=_0x16a633;let _0x380d64=0x0;try{_0x380d64=exchange[_0xff1bf7(0x32e)](_0x5ba2a4,_0x54078b);}catch(_0x3110bb){}return _0x380d64;}function checkMinimums(_0x1b0e2e){const _0x271af6=_0x16a633;let _0x92b59=!![];const _0x40f564=!_0x1b0e2e[_0x271af6(0x26d)]?markets[_0x1b0e2e['symbol']][_0x271af6(0x36b)][_0x271af6(0x2fa)]['min']:markets[_0x1b0e2e['symbol']][_0x271af6(0x36b)][_0x271af6(0x1f0)][_0x271af6(0x1b8)],_0x49cdf7=!_0x1b0e2e[_0x271af6(0x26d)]?markets[_0x1b0e2e[_0x271af6(0x1c9)]][_0x271af6(0x36b)][_0x271af6(0x1f0)][_0x271af6(0x1b8)]:markets[_0x1b0e2e[_0x271af6(0x1c9)]][_0x271af6(0x36b)][_0x271af6(0x2fa)]['min'],_0x369fad=truncateTradeAmount(_0x1b0e2e['symbol'],_0x1b0e2e['trade']);_0x1b0e2e[_0x271af6(0x2b5)]=_0x369fad;if(Math[_0x271af6(0x1bf)](_0x369fad)<_0x40f564)_0x92b59=![];if(Math['abs'](_0x369fad)*_0x1b0e2e[_0x271af6(0x359)]<_0x49cdf7)_0x92b59=![];let _0x2f6579='';if(_0x1b0e2e['side']==_0x271af6(0x1a9)){let _0x50ece0=config['portfolio'][_0x271af6(0x248)](_0x1b8bdb=>_0x1b8bdb[_0x271af6(0x34f)]==_0x1b0e2e[_0x271af6(0x34f)]);_0x50ece0[_0x271af6(0x318)]>0x0?Math['abs'](_0x369fad)>_0x1b0e2e[_0x271af6(0x230)]-_0x50ece0[_0x271af6(0x318)]&&(_0x92b59=![],_0x2f6579=_0x271af6(0x19b)+_0x50ece0[_0x271af6(0x34f)]+_0x271af6(0x265)):Math[_0x271af6(0x1bf)](_0x369fad)>_0x1b0e2e[_0x271af6(0x230)]&&(_0x92b59=![]);}if(_0x1b0e2e[_0x271af6(0x25d)]==_0x271af6(0x2e9)){let _0x583b9f=config[_0x271af6(0x252)][_0x271af6(0x248)](_0x16ff8e=>_0x16ff8e[_0x271af6(0x34f)]==config[_0x271af6(0x208)]),_0x4dd2b3=currentCoins[_0x271af6(0x248)](_0x44b159=>_0x44b159['coin']==config['basecoin']);_0x583b9f['offset']>0x0?Math[_0x271af6(0x1bf)](_0x369fad)*_0x1b0e2e[_0x271af6(0x359)]>_0x4dd2b3[_0x271af6(0x230)]-_0x583b9f[_0x271af6(0x318)]&&(_0x92b59=![],_0x2f6579='Insufficient\x20funds\x20to\x20place\x20order\x20for\x20'+config['basecoin']+_0x271af6(0x265)):Math['abs'](_0x369fad)*_0x1b0e2e['last']>_0x4dd2b3[_0x271af6(0x230)]&&(_0x92b59=![]);}return!_0x92b59&&_0x2f6579&&!insufficientFundsWarningSent['includes'](_0x1b0e2e[_0x271af6(0x34f)])&&(logHistory(_0x271af6(0x2f0),_0x2f6579),insufficientFundsWarningSent[_0x271af6(0x313)](_0x1b0e2e['coin'])),_0x92b59;}async function getBalances(_0x4e4b2a=!![]){const _0x2da28f=_0x16a633;if(botPaused)return;let _0x52afda=0x0,_0x316619;const _0x4c783f=config['threshold'];if(config[_0x2da28f(0x20c)]&&config[_0x2da28f(0x311)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x33a776=>{const _0x2e28a1=_0x2da28f;if(_0x33a776[_0x2e28a1(0x34f)]!=config['basecoin']){let _0x31b78e=gTicker[noslash(_0x33a776[_0x2e28a1(0x1c9)])];_0x316619=_0x33a776[_0x2e28a1(0x26d)]?0x1/_0x31b78e:_0x31b78e;}else _0x316619=0x1;let _0x2e0a1b=_0x33a776['number']*_0x316619;_0x52afda+=_0x2e0a1b,_0x33a776[_0x2e28a1(0x359)]=formatResult(Number(_0x316619),0x8),_0x33a776[_0x2e28a1(0x25b)]=_0x2e0a1b;}),currentCoins[_0x2da28f(0x216)](_0x35d9c1=>{const _0x3f3246=_0x2da28f;let _0x452707=config['portfolio'][_0x3f3246(0x248)](_0x3af4af=>_0x3af4af[_0x3f3246(0x34f)]==_0x35d9c1[_0x3f3246(0x34f)]),_0x22d266=Number(_0x452707[_0x3f3246(0x2c1)]),_0xa784=_0x35d9c1[_0x3f3246(0x25b)]/_0x52afda*0x64,_0x5060f2=_0x22d266*_0x52afda/0x64/_0x35d9c1[_0x3f3246(0x359)]-_0x35d9c1[_0x3f3246(0x230)];_0x35d9c1[_0x3f3246(0x2c1)]=formatResult(_0xa784,0x3),_0x35d9c1[_0x3f3246(0x268)]=formatResult(_0x22d266,0x3),_0x35d9c1['trade']=formatResult(_0x5060f2,0x8),_0x35d9c1[_0x3f3246(0x25d)]='',_0x35d9c1[_0x3f3246(0x1d3)]=![];if(_0x35d9c1[_0x3f3246(0x34f)]!=config[_0x3f3246(0x208)]){if(_0x35d9c1[_0x3f3246(0x2c1)]>_0x22d266)_0x35d9c1['side']=_0x3f3246(0x1a9),_0x35d9c1['valid']=checkMinimums(_0x35d9c1);else _0x35d9c1[_0x3f3246(0x2c1)]<_0x22d266&&(_0x35d9c1['side']=_0x3f3246(0x2e9),_0x35d9c1[_0x3f3246(0x1d3)]=checkMinimums(_0x35d9c1));}_0x35d9c1[_0x3f3246(0x34d)]=_0x35d9c1[_0x3f3246(0x268)]==0x0?0x270f:_0x35d9c1['distribution']/_0x35d9c1[_0x3f3246(0x268)]-0x1;if(_0x35d9c1[_0x3f3246(0x2f2)]=='filled'||_0x35d9c1['orderstatus']==_0x3f3246(0x320))_0x35d9c1[_0x3f3246(0x2f2)]=_0x3f3246(0x1cf);}),currentCoins['sort']((_0x21332a,_0x2d2965)=>_0x21332a[_0x2da28f(0x34d)]<_0x2d2965['delta']?0x1:_0x2d2965[_0x2da28f(0x34d)]<_0x21332a[_0x2da28f(0x34d)]?-0x1:0x0);const _0x2b7734=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2b7734[_0x2da28f(0x28f)],'usd':_0x2b7734[_0x2da28f(0x1b4)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x4c783f},proxyEmit(_0x2da28f(0x285),{'serverversion':serverversion,'balances':lastBalances});if(_0x4e4b2a){if(config[_0x2da28f(0x20c)])headlessMode({'portfolio':currentCoins,'threshold':_0x4c783f});else lockOrders==ORDERS[_0x2da28f(0x1db)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x4c783f});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x52332e=getNormalizedPerformance();getStartingBalances(_0x52332e),emitPerformance(_0x52332e);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function getPnL(){const _0x5d2b87=_0x16a633;let _0x13d1d0=dbCoinResults[_0x5d2b87(0x2f8)](_0x5d2b87(0x2e3))['value'](),_0x191382=0x0;return Object[_0x5d2b87(0x37b)](_0x13d1d0)[_0x5d2b87(0x216)](([_0x1d6bee,_0xedabd0])=>{const _0x10111e=_0x5d2b87;_0x191382+=_0xedabd0[_0x10111e(0x26b)];}),_0x191382;}async function storePerformance(){const _0x131f58=_0x16a633;if(!lastBalances)return;let _0x27800f=[],_0x3795fa;const _0x31be88=getPnL();let _0x4c9502=JSON[_0x131f58(0x205)](lastBalances[_0x131f58(0x252)]);_0x4c9502['sort']((_0x1e361b,_0x245cc9)=>_0x1e361b[_0x131f58(0x34f)]>_0x245cc9[_0x131f58(0x34f)]?0x1:_0x245cc9[_0x131f58(0x34f)]>_0x1e361b[_0x131f58(0x34f)]?-0x1:0x0),_0x4c9502[_0x131f58(0x216)](_0x43363b=>{const _0x3088b7=_0x131f58;let _0x20f0cf={'coin':_0x43363b[_0x3088b7(0x34f)],'number':_0x43363b[_0x3088b7(0x230)],'price':_0x43363b['last']};_0x27800f[_0x3088b7(0x313)](_0x20f0cf);});const _0x39acf4=await getFiat(),_0x3c7a34=getTimeStamp()[_0x131f58(0x281)]('\x20')[0x0],_0x4d082d=dbPerformance[_0x131f58(0x2f8)](_0x131f58(0x1c5))[_0x131f58(0x248)]({'date':_0x3c7a34})[_0x131f58(0x25b)]();_0x3795fa={'date':_0x3c7a34,'eur':_0x39acf4[_0x131f58(0x28f)],'usd':_0x39acf4[_0x131f58(0x1b4)],'coins':_0x27800f,'pnl':_0x31be88},_0x4d082d?_0x3795fa[_0x131f58(0x1dc)]!=config[_0x131f58(0x2a9)]&&dbPerformance[_0x131f58(0x2f8)]('data')['find']({'date':_0x3c7a34})[_0x131f58(0x321)](_0x3795fa)[_0x131f58(0x351)]():dbPerformance['get']('data')['push'](_0x3795fa)[_0x131f58(0x351)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x27e924=_0x16a633;let _0x58e47b=[];if(dbPerformance[_0x27e924(0x362)](_0x27e924(0x1c5))['value']()){let _0x5c8689=dbPerformance[_0x27e924(0x2f8)](_0x27e924(0x1c5))[_0x27e924(0x355)]()['filter'](_0x467309=>{const _0xf6932d=_0x27e924;if(_0x467309[_0xf6932d(0x2e3)][_0xf6932d(0x1df)]==0x0)return![];else return!![];})[_0x27e924(0x2c5)]('date')[_0x27e924(0x25b)](),_0x5431f3=[...config[_0x27e924(0x2bb)]];_0x5431f3[_0x27e924(0x2b0)]((_0x4d2ac5,_0x688875)=>_0x4d2ac5['date']>_0x688875[_0x27e924(0x1dc)]?-0x1:_0x688875[_0x27e924(0x1dc)]>_0x4d2ac5[_0x27e924(0x1dc)]?0x1:0x0);let _0x1e8173=0x1,_0x1b5f34=[],_0xe30ae6=0x0;_0x5c8689[_0x27e924(0x2f3)]()[_0x27e924(0x26d)]()[_0x27e924(0x216)]((_0x483473,_0x4d464e)=>{const _0x46376b=_0x27e924;if(_0x5431f3[_0xe30ae6]){if(_0x5c8689[_0x5c8689[_0x46376b(0x1df)]-_0x4d464e]&&_0x5431f3[_0xe30ae6][_0x46376b(0x1dc)]==_0x5c8689[_0x5c8689['length']-_0x4d464e]['date']){if(_0x4d464e<_0x5c8689[_0x46376b(0x1df)]){let _0x5f4e9f=0x0,_0x48f2ca=0x0;_0x5c8689[_0x5c8689[_0x46376b(0x1df)]-_0x4d464e][_0x46376b(0x2e3)][_0x46376b(0x216)](_0x13f387=>{const _0x5e843b=_0x46376b;_0x48f2ca+=_0x13f387[_0x5e843b(0x230)]*_0x13f387[_0x5e843b(0x377)];}),_0x5431f3[_0xe30ae6]['changes']['forEach'](_0x5dd459=>{const _0x11d575=_0x46376b;_0x5f4e9f+=_0x5dd459['number']*_0x5dd459[_0x11d575(0x377)];}),_0x1e8173*=_0x5f4e9f/(_0x48f2ca-_0x5f4e9f)+0x1;}_0xe30ae6++;}}let _0xc37bdb=0x0;_0x483473[_0x46376b(0x2e3)][_0x46376b(0x216)](_0x89a3e9=>{const _0xb4b10e=_0x46376b;_0xc37bdb+=_0x89a3e9[_0xb4b10e(0x230)]*_0x89a3e9[_0xb4b10e(0x377)];}),_0x1b5f34[_0x5c8689[_0x46376b(0x1df)]-_0x4d464e-0x1]=_0xc37bdb*(_0x1e8173-0x1);});let _0x411cd9=[];_0x5431f3=[...config[_0x27e924(0x2bb)]]||[];let _0x3c3663=0x0;_0xe30ae6=0x0,_0x5c8689[_0x27e924(0x216)]((_0x444ef2,_0x491092)=>{const _0x40ec6c=_0x27e924;if(_0x5431f3[_0xe30ae6]){const _0x21c83d=fns['parse'](_0x5431f3[_0xe30ae6][_0x40ec6c(0x1dc)],_0x40ec6c(0x26a),new Date()),_0x2a46ad=fns[_0x40ec6c(0x205)](_0x444ef2[_0x40ec6c(0x1dc)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x21c83d,_0x2a46ad)){let _0x277be3=0x0;_0x5431f3[_0xe30ae6]['changes']['forEach'](_0x1f758f=>{const _0x459590=_0x40ec6c;!_0x411cd9[_0x1f758f[_0x459590(0x34f)]]?_0x411cd9[_0x1f758f['coin']]=_0x1f758f['number']:(_0x277be3=_0x411cd9[_0x1f758f[_0x459590(0x34f)]],_0x411cd9[_0x1f758f[_0x459590(0x34f)]]+=_0x1f758f[_0x459590(0x230)]);const _0x13c1a7=_0x444ef2[_0x459590(0x2e3)][_0x459590(0x248)](_0x5af8e0=>_0x5af8e0[_0x459590(0x34f)]==_0x1f758f[_0x459590(0x34f)]);(!_0x13c1a7||_0x13c1a7[_0x459590(0x230)]==0x0)&&(_0x3c3663+=(-_0x1f758f[_0x459590(0x230)]-_0x277be3)*_0x1f758f[_0x459590(0x377)]);}),_0xe30ae6++;}}_0x444ef2[_0x40ec6c(0x2e3)][_0x40ec6c(0x216)]((_0x40668f,_0x1d7bef)=>{const _0x3582bd=_0x40ec6c;_0x411cd9[_0x40668f['coin']]&&(_0x40668f[_0x3582bd(0x36c)]=_0x411cd9[_0x40668f[_0x3582bd(0x34f)]]);}),_0x58e47b[_0x40ec6c(0x313)]({'date':_0x444ef2[_0x40ec6c(0x1dc)],'eur':_0x444ef2['eur'],'usd':_0x444ef2[_0x40ec6c(0x1b4)],'offset':_0x1b5f34[_0x491092],'netoffset':_0x3c3663,'coins':_0x444ef2['coins'],'pnl':_0x444ef2[_0x40ec6c(0x1b3)]});});}return _0x58e47b;}function emitPerformance(_0x512a7e){const _0x31a538=_0x16a633;_0x512a7e[_0x31a538(0x1df)]!==0x0?(proxyEmit(_0x31a538(0x357),_0x512a7e),lastPerformanceEmitted=getDate()):proxyEmit(_0x31a538(0x357),[]);}function getPerf(_0x1fc458,_0x257327){const _0x56d35d=_0x16a633;let _0x23e6e8=0x0,_0x295715=0x0,_0x34e460=0x0;_0x1fc458['coins'][_0x56d35d(0x216)](_0x3e6aef=>{const _0x2ca04e=_0x56d35d;_0x23e6e8+=_0x3e6aef[_0x2ca04e(0x230)]*_0x3e6aef['price'];});_0x257327&&(_0x23e6e8+=_0x1fc458['offset']);if(config[_0x56d35d(0x208)]===_0x56d35d(0x367)||config['basecoin']===_0x56d35d(0x20a)||config[_0x56d35d(0x208)]===_0x56d35d(0x2d2))_0x295715=_0x23e6e8*_0x1fc458[_0x56d35d(0x28f)],_0x34e460=_0x23e6e8*_0x1fc458[_0x56d35d(0x1b4)];else{if(usdBasecoins['includes'](config[_0x56d35d(0x208)]))_0x295715=_0x23e6e8*_0x1fc458[_0x56d35d(0x28f)]/_0x1fc458[_0x56d35d(0x1b4)],_0x34e460=_0x23e6e8;else config[_0x56d35d(0x208)]===_0x56d35d(0x2c9)&&(_0x295715=_0x23e6e8,_0x34e460=_0x23e6e8*_0x1fc458[_0x56d35d(0x1b4)]/_0x1fc458['eur']);}return[_0x23e6e8,_0x295715,_0x34e460];}function CurrencyFactor(_0x12ca24,_0x47dd3a,_0x5f492f){const _0x54e67f=_0x16a633;let _0x2f5257;if(_0x47dd3a===_0x54e67f(0x367)||_0x47dd3a===_0x54e67f(0x20a)||_0x47dd3a==='PAXG')_0x2f5257=_0x5f492f===_0x54e67f(0x2c9)?_0x12ca24[_0x54e67f(0x28f)]:_0x12ca24[_0x54e67f(0x1b4)];else{if(usdBasecoins['includes'](_0x47dd3a))_0x2f5257=_0x5f492f===_0x54e67f(0x2c9)?_0x12ca24['eur']/_0x12ca24[_0x54e67f(0x1b4)]:0x1;else _0x47dd3a===_0x54e67f(0x2c9)&&(_0x2f5257=_0x5f492f===_0x54e67f(0x2c9)?0x1:_0x12ca24[_0x54e67f(0x1b4)]/_0x12ca24['eur']);}return _0x2f5257;}function getKPIs(_0x38fd53,_0xc9439b=_0x16a633(0x2c9)){const _0x49fda4=_0x16a633,_0x3ee820=config['basecoin'],_0x5cca99=lastBalances,_0x403a6f=currentCoins,_0xc5e929=getNormalizedPerformance(),_0x3ca222=CurrencyFactor(_0x5cca99,config['basecoin'],_0xc9439b);let _0x10a27f=0x0;_0x403a6f[_0x49fda4(0x216)](_0x4e8126=>{const _0x474908=_0x49fda4;_0x10a27f+=_0x4e8126[_0x474908(0x230)]*_0x4e8126['last'];});_0x38fd53[_0x49fda4(0x2f5)](_0x49fda4(0x2a8))&&(_0x10a27f*=_0x3ca222);let _0x18adc3;if(_0x10a27f!==0x0){if(_0x38fd53===_0x49fda4(0x208)||_0x38fd53===_0x49fda4(0x2a8)){if(_0x38fd53===_0x49fda4(0x208))_0x18adc3=(_0x10a27f/startingBalances[_0x49fda4(0x208)]-0x1)*0x64;else{if(_0xc9439b===_0x49fda4(0x2c9))_0x18adc3=(_0x10a27f/startingBalances['eur']-0x1)*0x64;else _0x18adc3=(_0x10a27f/startingBalances[_0x49fda4(0x1b4)]-0x1)*0x64;}}if(_0x38fd53[_0x49fda4(0x2f5)](_0x49fda4(0x1b5))){let _0x47d714=0x0;if(startingBalances[_0x49fda4(0x2e3)])_0x403a6f[_0x49fda4(0x216)](_0x10df5a=>{const _0x315df8=_0x49fda4;let _0x416cf3=startingBalances[_0x315df8(0x2e3)][_0x315df8(0x248)](_0x4b47a2=>_0x4b47a2[_0x315df8(0x34f)]===_0x10df5a[_0x315df8(0x34f)]);if(_0x416cf3&&_0x416cf3['coin']&&_0x10df5a[_0x315df8(0x230)]!==0x0)_0x47d714+=_0x416cf3['number']*_0x10df5a[_0x315df8(0x359)];});let _0x488c2e=0x0;if(_0xc5e929[_0x49fda4(0x1df)]!==0x0){let _0x75447c=_0xc5e929[_0xc5e929['length']-0x1];_0x488c2e=_0x75447c['netoffset'];}_0x47d714-=_0x488c2e;let _0x337a80;_0x38fd53===_0x49fda4(0x2a6)&&(_0x337a80=startingBalances['basecoin']),_0x38fd53===_0x49fda4(0x2e5)&&(_0x337a80=_0xc9439b===_0x49fda4(0x2c9)?startingBalances[_0x49fda4(0x28f)]:startingBalances[_0x49fda4(0x1b4)],_0x47d714*=_0x3ca222),_0x18adc3=(_0x10a27f-_0x47d714)/_0x337a80*0x64,_0x10a27f=_0x10a27f-_0x47d714;}if(_0x38fd53[_0x49fda4(0x2f5)](_0x49fda4(0x1b3))){if(_0xc5e929[_0x49fda4(0x1df)]!==0x0&&_0x403a6f[_0x49fda4(0x1df)]!==0x0){let _0x2ec627,_0x1788ce=_0xc5e929[_0xc5e929[_0x49fda4(0x1df)]-0x1][_0x49fda4(0x1b3)];_0x38fd53[_0x49fda4(0x2f5)](_0x49fda4(0x2a8))?(_0x2ec627=_0xc9439b===_0x49fda4(0x2c9)?startingBalances[_0x49fda4(0x28f)]:startingBalances[_0x49fda4(0x1b4)],_0x1788ce*=CurrencyFactor(_0x5cca99,_0x3ee820,_0xc9439b)):_0x2ec627=startingBalances[_0x49fda4(0x208)],_0x18adc3=_0x1788ce/_0x2ec627*0x64,_0x10a27f=_0x1788ce;}}if(_0x18adc3){if(_0x18adc3<0x64)_0x18adc3=_0x18adc3['toFixed'](0x2);else{if(_0x18adc3<0x3e8)_0x18adc3=_0x18adc3[_0x49fda4(0x29f)](0x1);else _0x18adc3=_0x18adc3[_0x49fda4(0x29f)](0x0);}}else _0x18adc3=Number('0')[_0x49fda4(0x29f)](0x2);if(_0x10a27f){if(Math[_0x49fda4(0x1bf)](_0x10a27f)<0.000001)_0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x2);else{if(Math[_0x49fda4(0x1bf)](_0x10a27f)<0.1)_0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x6);else{if(Math['abs'](_0x10a27f)<0x1)_0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x5);else{if(Math[_0x49fda4(0x1bf)](_0x10a27f)<0xa)_0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x4);else{if(Math[_0x49fda4(0x1bf)](_0x10a27f)<0x64)_0x10a27f=_0x10a27f['toFixed'](0x3);else{if(Math[_0x49fda4(0x1bf)](_0x10a27f)<0x3e8)_0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x2);else _0x10a27f=_0x10a27f[_0x49fda4(0x29f)](0x2);}}}}}}else _0x10a27f=Number('0')[_0x49fda4(0x29f)](0x2);}else _0x18adc3=Number('0')[_0x49fda4(0x29f)](0x2);if(_0x18adc3>=0x0)_0x18adc3='+'+_0x18adc3;return{'value':_0x10a27f,'change':_0x18adc3};}async function getStartingBalances(_0x289909,_0x144939=!![]){const _0x4f196b=_0x16a633;if(_0x289909[_0x4f196b(0x1df)]!==0x0){const [_0x14fe68,_0x3b3515,_0x86a7d3]=getPerf(_0x289909[0x0],!![]);let _0x1d17b3=[];config[_0x4f196b(0x252)][_0x4f196b(0x216)](_0x16ba59=>{const _0x208131=_0x4f196b;let _0x1bbfd7=0x0,_0x817235;config[_0x208131(0x2bb)]['forEach'](_0xbbf63c=>{const _0x4535f2=_0x208131;let _0x1dbbe2=_0xbbf63c['changes']['find'](_0x375fe4=>_0x375fe4[_0x4535f2(0x34f)]==_0x16ba59[_0x4535f2(0x34f)]);if(_0x1dbbe2){_0x1bbfd7+=_0x1dbbe2[_0x4535f2(0x230)];if(!_0x817235)_0x817235=_0x1dbbe2[_0x4535f2(0x377)];}}),_0x1d17b3[_0x208131(0x313)]({'coin':_0x16ba59[_0x208131(0x34f)],'number':_0x1bbfd7,'initialprice':_0x817235});});const _0xe3faab={'basecoin':_0x14fe68,'eur':_0x3b3515,'usd':_0x86a7d3,'coins':_0x1d17b3};if(_0x144939)proxyEmit('starting-balances',_0xe3faab);startingBalances=_0xe3faab;}}function headlessMode(_0x16a258){const _0x347fe8=_0x16a633;let _0x21980a=_0x16a258[_0x347fe8(0x252)],_0x202981=_0x16a258[_0x347fe8(0x339)],_0x20adc7=[];for(let _0x1f8ce9 of _0x21980a){if(_0x1f8ce9[_0x347fe8(0x34f)]!=config[_0x347fe8(0x208)]){if(_0x1f8ce9[_0x347fe8(0x34d)]>=_0x202981/0x64){if(_0x1f8ce9[_0x347fe8(0x1d3)])_0x20adc7[_0x347fe8(0x313)](_0x1f8ce9);}else{if(_0x1f8ce9[_0x347fe8(0x34d)]<=-_0x202981/0x64){if(_0x1f8ce9[_0x347fe8(0x1d3)])_0x20adc7[_0x347fe8(0x313)](_0x1f8ce9);}}}}_0x20adc7['length']>0x0&&placeOrder(_0x20adc7);}function notifyBalance(_0x16bc8e){const _0x4e3f69=_0x16a633;let _0x73551d=_0x16bc8e[_0x4e3f69(0x252)],_0x209966=_0x16bc8e[_0x4e3f69(0x339)],_0x28cd89=[];for(let _0x3a365e of _0x73551d){if(_0x3a365e['coin']!=config[_0x4e3f69(0x208)]){if(_0x3a365e[_0x4e3f69(0x34d)]>=_0x209966/0x64){if(_0x3a365e['valid'])_0x28cd89[_0x4e3f69(0x313)](_0x3a365e);}else{if(_0x3a365e[_0x4e3f69(0x34d)]<=-_0x209966/0x64){if(_0x3a365e[_0x4e3f69(0x1d3)])_0x28cd89['push'](_0x3a365e);}}}}if(_0x28cd89[_0x4e3f69(0x1df)]>0x0){let _0x1b357e=_0x28cd89['map'](_0x10d11e=>_0x10d11e[_0x4e3f69(0x34f)]);_0x1b357e[_0x4e3f69(0x2b0)]();let _0x211000=_0x1b357e['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x4e3f69(0x2f0),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x211000;}}function symbolToCoin(_0x590bc0){const _0x24ccfc=_0x16a633;let _0x57b931;if(_0x590bc0[_0x24ccfc(0x2f5)]('/'+config['basecoin']))_0x57b931=_0x590bc0['replace']('/'+config[_0x24ccfc(0x208)],'');if(_0x590bc0[_0x24ccfc(0x2f5)](config[_0x24ccfc(0x208)]+'/'))_0x57b931=_0x590bc0[_0x24ccfc(0x1b6)](config[_0x24ccfc(0x208)]+'/','');return _0x57b931;}function setLockOrders(_0x29e594){const _0x599ef7=_0x16a633;lockOrders=_0x29e594,logger[_0x599ef7(0x1da)](_0x599ef7(0x1b9)+Object[_0x599ef7(0x247)](ORDERS)[lockOrders]);}async function unlockOrders(_0x28bf46=![]){const _0x2e9610=_0x16a633;if(allOrdersPlaced&&lockOrders==ORDERS[_0x2e9610(0x284)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x28bf46){const _0x21d46a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x21d46a,setBlockTransactionDetection(![]);}validateOrdersState=_0x2e9610(0x36c),persistOpenOrders([]),setLockOrders(ORDERS[_0x2e9610(0x1db)]);}}async function validateOrders(_0x4f3b17){const _0x299956=_0x16a633;if(_0x4f3b17)validateOrdersState=_0x4f3b17;logger[_0x299956(0x1da)](_0x299956(0x2c0)+validateOrdersState+_0x299956(0x221)+Object[_0x299956(0x247)](ORDERS)[lockOrders]);let _0x3b475a=[],_0x2fb275=config[_0x299956(0x222)]==_0x299956(0x2e1)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x299956(0x284)])return;logger[_0x299956(0x1da)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState);for(let _0x3e66aa=lastOrders[_0x299956(0x1df)]-0x1;_0x3e66aa>=0x0;_0x3e66aa--){let _0x1f705f=lastOrders[_0x3e66aa],_0x909046=![];_0x1f705f[_0x299956(0x2a3)]>0x0&&(_0x909046=!![]),_0x3b475a['push'](_0x909046),_0x909046&&config[_0x299956(0x222)]!=_0x299956(0x2e1)&&logHistory('order',_0x299956(0x305)+_0x1f705f[_0x299956(0x1c9)]+'\x20'+_0x1f705f[_0x299956(0x25d)]+'\x20#'+formatResult(_0x1f705f[_0x299956(0x2a3)],0x8)+'\x20@'+formatResult(_0x1f705f[_0x299956(0x377)],0x8)),_0x909046&&lastOrders[_0x299956(0x301)](_0x3e66aa,0x1);}persistOpenOrders(lastOrders);const _0x583ec2=coolingDown?_0x299956(0x1d1):_0x299956(0x338);if(validateOrdersState=='initial'){validateOrdersState=_0x299956(0x1bb);if(_0x3b475a[_0x299956(0x2f5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x299956(0x1bb)){if(_0x3b475a[_0x299956(0x2f5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x299956(0x1ee)){let _0x2f751e=!![];if(_0x3b475a[_0x299956(0x2f5)](![])){if(config[_0x299956(0x222)]==_0x299956(0x2e1))logHistory(_0x299956(0x2ad),_0x299956(0x1f9)+Math['round'](_0x2fb275*validateOrderInterval/0xea60)+_0x299956(0x1cb)+_0x583ec2),await unlockOrders(!![]);else{_0x2f751e=await cancelOrders();if(_0x2f751e)logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x299956(0x2e4)](_0x2fb275*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x583ec2),await unlockOrders(!![]);else{validateOrdersState=_0x299956(0x1bb),logHistory(_0x299956(0x255),_0x299956(0x1cc)+Math[_0x299956(0x2e4)](_0x2fb275*validateOrderInterval/0xea60)+_0x299956(0x1cb)+_0x583ec2),logHistory(_0x299956(0x255),_0x299956(0x31d));const _0x4fe5cc=config[_0x299956(0x222)]==_0x299956(0x2e1)?validateOrderTimeout*0x3c*0x3e8:config[_0x299956(0x21b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x63c027=_0x299956;validateOrders(_0x63c027(0x1ee));},_0x4fe5cc);}}}else await unlockOrders(!![]);}else{if(validateOrdersState==_0x299956(0x1e9)){if(config[_0x299956(0x222)]!='market')logHistory('success',_0x299956(0x280)+_0x583ec2);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x32ad93=_0x16a633;let _0x103261=!![],_0x2c6758;for(const _0x74e85d of lastOrders){let _0x325012=![],_0x263cc7=0x0;while(!_0x325012&&_0x263cc7<maxRetries){try{const _0x12764a=await exchange[_0x32ad93(0x378)](_0x74e85d[_0x32ad93(0x2cb)],_0x74e85d[_0x32ad93(0x1c9)]);_0x325012=!![];}catch(_0x43cdba){_0x43cdba[_0x32ad93(0x25f)]()['includes']('OrderNotFound')||_0x43cdba[_0x32ad93(0x25f)]()[_0x32ad93(0x2f5)](_0x32ad93(0x19f))?_0x325012=!![]:(_0x2c6758=_0x43cdba,_0x325012=![]);}!_0x325012&&(_0x263cc7++,await sleep(retryInterval));}_0x103261=_0x103261&&_0x325012;}return!_0x103261&&await handleError(_0x2c6758,_0x32ad93(0x33c)),_0x103261;}async function initCoinResults(_0x5182c5){const _0x1beb39=_0x16a633;_0x5182c5?logger[_0x1beb39(0x1da)](_0x1beb39(0x204)+_0x5182c5):logger[_0x1beb39(0x1da)](_0x1beb39(0x28e)),config[_0x1beb39(0x252)][_0x1beb39(0x216)](_0x562b6f=>{const _0x571c78=_0x1beb39;if(!_0x562b6f['excluded']&&_0x562b6f[_0x571c78(0x34f)]!=config[_0x571c78(0x208)]){const _0x15b0cf=currentCoins[_0x571c78(0x248)](_0x4299c7=>_0x4299c7[_0x571c78(0x34f)]==_0x562b6f['coin']),_0x3fb4e5=gTicker[noslash(_0x562b6f[_0x571c78(0x1c9)])];let _0x1530ca=_0x15b0cf?_0x15b0cf[_0x571c78(0x230)]:null,_0x5a5ba1=_0x562b6f[_0x571c78(0x26d)]?0x1/_0x3fb4e5:_0x3fb4e5,_0x354ddf;config[_0x571c78(0x2bb)][_0x571c78(0x216)](_0x3e6001=>{const _0x21f686=_0x571c78;!_0x354ddf&&(_0x354ddf=_0x3e6001['changes'][_0x21f686(0x248)](_0x3797a9=>_0x3797a9[_0x21f686(0x34f)]==_0x562b6f[_0x21f686(0x34f)]),_0x354ddf&&(_0x1530ca=_0x354ddf['number'],_0x5a5ba1=_0x354ddf[_0x21f686(0x377)]));});let _0x11ec93=dbCoinResults[_0x571c78(0x2f8)]('coins')[_0x571c78(0x248)]({'coin':_0x562b6f['coin']})[_0x571c78(0x25b)]();if(!_0x11ec93){const _0x38f586={'coin':_0x562b6f['coin'],'number':_0x1530ca,'breakeven':_0x5a5ba1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x571c78(0x2f8)](_0x571c78(0x2e3))[_0x571c78(0x313)](_0x38f586)[_0x571c78(0x351)]();}else{if(_0x5182c5&&_0x562b6f[_0x571c78(0x34f)]==_0x5182c5){const _0x18f12b={'coin':_0x562b6f[_0x571c78(0x34f)],'number':_0x1530ca,'breakeven':_0x5a5ba1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x571c78(0x2f8)](_0x571c78(0x2e3))[_0x571c78(0x248)]({'coin':_0x562b6f[_0x571c78(0x34f)]})[_0x571c78(0x321)](_0x18f12b)['write']();}}}});}async function placeOrder(_0x1dde15){const _0x334b60=_0x16a633,_0x1cfa62=config[_0x334b60(0x222)]==_0x334b60(0x2e1)?_0x334b60(0x2e1):_0x334b60(0x1fb);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS['LOCKED']);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x334b60(0x1da)](_0x334b60(0x19e)+_0x1dde15[_0x334b60(0x28c)](_0x337533=>_0x337533[_0x334b60(0x34f)])[_0x334b60(0x2ce)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x334b60(0x36c);let _0x280fd6=![];lastOrders=[];const _0xf2425c=config[_0x334b60(0x339)];for(const _0x2e0fba of _0x1dde15){let _0x310500,_0x1c972c,_0x476e99,_0x9f706e,_0xf9cb04,_0x5f368f=_0x2e0fba[_0x334b60(0x1c9)];logger[_0x334b60(0x1da)](_0x334b60(0x1c2)+_0x2e0fba[_0x334b60(0x34f)]+'\x20'+_0x2e0fba[_0x334b60(0x230)]+'\x20'+_0x2e0fba[_0x334b60(0x359)]+'\x20'+_0x2e0fba[_0x334b60(0x2c1)]+'%\x20'+_0x2e0fba['target']+'%\x20'+(0x64*_0x2e0fba[_0x334b60(0x34d)])[_0x334b60(0x29f)](0x2)+'%\x20('+_0xf2425c['toFixed'](0x2)+'%)'),insufficientFundsWarningSent=insufficientFundsWarningSent[_0x334b60(0x25e)](_0x2761b3=>_0x2761b3!==_0x2e0fba[_0x334b60(0x34f)]);const _0x3a2ff6=currentCoins[_0x334b60(0x248)](_0xc99fe8=>_0xc99fe8[_0x334b60(0x34f)]==_0x2e0fba[_0x334b60(0x34f)]);_0x3a2ff6&&(_0x3a2ff6['prevnumber']=_0x2e0fba['number']);try{const _0x549400=await exchange[_0x334b60(0x22b)](_0x5f368f);_0x310500=_0x2e0fba['reverse']?0x1/_0x2e0fba[_0x334b60(0x359)]:_0x2e0fba[_0x334b60(0x359)],_0x1c972c=_0x549400[_0x334b60(0x298)],_0x476e99=_0x549400['ask'];_0x2e0fba[_0x334b60(0x26d)]?(_0x9f706e=_0x2e0fba['side']==_0x334b60(0x2e9)?_0x334b60(0x1a9):'buy',_0xf9cb04=Math[_0x334b60(0x1bf)](_0x2e0fba[_0x334b60(0x2b5)])/_0x310500):(_0x9f706e=_0x2e0fba[_0x334b60(0x25d)],_0xf9cb04=Math[_0x334b60(0x1bf)](_0x2e0fba[_0x334b60(0x2b5)]));_0x1cfa62==_0x334b60(0x1fb)&&(config['ordertype']=='limit-high'&&(_0x310500=_0x9f706e==_0x334b60(0x2e9)?_0x1c972c:_0x476e99),config[_0x334b60(0x222)]==_0x334b60(0x33b)&&(_0x310500=_0x9f706e==_0x334b60(0x2e9)?_0x476e99:_0x1c972c));_0xf9cb04=formatResult(_0xf9cb04,0x8),_0x310500=formatResult(_0x310500,0x8);const _0x506ff5=_0x9f706e==_0x334b60(0x1a9)?config[_0x334b60(0x275)]?String[_0x334b60(0x1ef)]('0x'+config[_0x334b60(0x275)])+'\x20':'':config[_0x334b60(0x1e0)]?String[_0x334b60(0x1ef)]('0x'+config[_0x334b60(0x1e0)])+'\x20':'',_0x119bb4=_0x1cfa62==_0x334b60(0x2e1)?_0x334b60(0x2b8):config[_0x334b60(0x222)]==_0x334b60(0x282)?_0x334b60(0x254):_0x334b60(0x2cc),_0x16fe81=(Math['floor'](Math['random']()*0x35a4e900)+0x5f5e100)[_0x334b60(0x25f)]();lastOrders[_0x334b60(0x313)]({'customId':_0x16fe81,'symbol':_0x5f368f,'coin':_0x2e0fba[_0x334b60(0x34f)],'amount':_0xf9cb04,'price':_0x310500,'side':_0x9f706e,'reverse':_0x2e0fba['reverse'],'filled':0x0});let _0x2d1629;_0x1cfa62==_0x334b60(0x2e1)?_0x9f706e==_0x334b60(0x2e9)&&['Bybit','Bitget',_0x334b60(0x2bf),_0x334b60(0x1f6),_0x334b60(0x368),_0x334b60(0x337)][_0x334b60(0x2f5)](config[_0x334b60(0x232)])?(logger[_0x334b60(0x1da)](_0x334b60(0x291)+_0x5f368f+'\x20'+_0x1cfa62+'\x20'+_0x9f706e+'\x20#'+_0xf9cb04+'\x20@'+_0x310500),_0x2d1629=await exchange[_0x334b60(0x1ac)](_0x5f368f,_0x1cfa62,_0x9f706e,_0xf9cb04,_0x310500)):(logger[_0x334b60(0x1da)](_0x334b60(0x291)+_0x5f368f+'\x20'+_0x1cfa62+'\x20'+_0x9f706e+'\x20#'+_0xf9cb04+_0x334b60(0x225)),_0x2d1629=await exchange[_0x334b60(0x1ac)](_0x5f368f,_0x1cfa62,_0x9f706e,_0xf9cb04,undefined)):(logger[_0x334b60(0x1da)]('Creating\x20order:\x20'+_0x5f368f+'\x20'+_0x1cfa62+'\x20'+_0x9f706e+'\x20#'+_0xf9cb04+'\x20@'+_0x310500),_0x2d1629=await exchange[_0x334b60(0x1ac)](_0x5f368f,_0x1cfa62,_0x9f706e,_0xf9cb04,_0x310500));const _0x1500df=lastOrders[_0x334b60(0x1df)]-0x1;if(_0x1500df>=0x0&&lastOrders[_0x1500df][_0x334b60(0x19a)]==_0x16fe81){lastOrders[_0x1500df][_0x334b60(0x2cb)]=_0x2d1629['id'];if(_0x2d1629['amount'])lastOrders[_0x1500df][_0x334b60(0x2fa)]=_0x2d1629['amount'];if(_0x2d1629['price'])lastOrders[_0x1500df]['price']=_0x2d1629[_0x334b60(0x377)];lastOrders[_0x1500df][_0x334b60(0x1c0)]=_0x2d1629[_0x334b60(0x1c0)];}if(_0x2d1629['amount'])_0xf9cb04=_0x2d1629[_0x334b60(0x2fa)];if(_0x2d1629[_0x334b60(0x377)])_0x310500=_0x2d1629['price'];if(_0x1cfa62==_0x334b60(0x2e1))logHistory(_0x334b60(0x249),''+_0x506ff5+_0x119bb4+_0x334b60(0x1cd)+_0x5f368f+'\x20'+_0x9f706e+'\x20#'+formatResult(_0xf9cb04,0x8)+'\x20@'+formatResult(_0x310500,0x8));else logHistory(_0x334b60(0x249),''+_0x506ff5+_0x119bb4+_0x334b60(0x1cd)+_0x5f368f+'\x20'+_0x9f706e+'\x20#'+formatResult(_0xf9cb04,0x8)+'\x20@'+formatResult(_0x310500,0x8));logger[_0x334b60(0x1da)](_0x334b60(0x2b4)+_0x2d1629['id']+_0x334b60(0x2d0)+_0x16fe81);if(config[_0x334b60(0x25c)]!=0x0){let _0x13964c=null;if(cooldownTracker[_0x334b60(0x1df)]==config[_0x334b60(0x25c)]-0x1)_0x13964c=cooldownTracker[_0x334b60(0x27a)]();const _0x42271b=getTimeStamp();cooldownTracker[_0x334b60(0x313)](_0x42271b);if(_0x13964c){const _0x2c1030=fns[_0x334b60(0x258)](new Date(_0x42271b),new Date(_0x13964c));if(_0x2c1030<cooldownInterval){logHistory(_0x334b60(0x255),'Executed\x20'+config[_0x334b60(0x25c)]+_0x334b60(0x358)+cooldownInterval/0x3c+_0x334b60(0x241)+cooldownPeriod/(0xe10*0x3e8)+_0x334b60(0x1fc)),coolingDown=!![];break;}}}}catch(_0x143ca3){if(_0x143ca3[_0x334b60(0x25f)]()[_0x334b60(0x2f5)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x334b60(0x25e)](_0x4570f7=>_0x4570f7[_0x334b60(0x1c9)]!=_0x5f368f),logHistory(_0x334b60(0x255),_0x334b60(0x21d)+_0x5f368f),_0x280fd6=!![];else{if(_0x143ca3[_0x334b60(0x25f)]()[_0x334b60(0x2f5)](_0x334b60(0x223)))lastOrders=lastOrders[_0x334b60(0x25e)](_0x4c5c63=>_0x4c5c63[_0x334b60(0x1c9)]!=_0x5f368f),logHistory(_0x334b60(0x255),'Order\x20amount\x20is\x20invalid:\x20'+_0x5f368f),_0x280fd6=!![];else{if(_0x143ca3[_0x334b60(0x25f)]()[_0x334b60(0x2f5)](_0x334b60(0x19f)))lastOrders=lastOrders[_0x334b60(0x25e)](_0x2d3458=>_0x2d3458[_0x334b60(0x1c9)]!=_0x5f368f),logHistory(_0x334b60(0x255),_0x334b60(0x37a)+_0x5f368f),logger['debug'](_0x143ca3),_0x280fd6=!![];else _0x143ca3[_0x334b60(0x25f)]()[_0x334b60(0x2f5)](_0x334b60(0x231))?(lastOrders=lastOrders[_0x334b60(0x25e)](_0x1abf4d=>_0x1abf4d[_0x334b60(0x1c9)]!=_0x5f368f),logHistory('error',_0x334b60(0x21d)+_0x5f368f),_0x280fd6=!![]):(lastOrders=lastOrders[_0x334b60(0x25e)](_0x43a9d1=>_0x43a9d1['symbol']!=_0x5f368f),await handleError(_0x143ca3,_0x334b60(0x295),_0x5f368f));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x334b60(0x1df)]>0x0){const _0x559fc0=config[_0x334b60(0x222)]==_0x334b60(0x2e1)?validateOrderTimeout*0x3c*0x3e8:config[_0x334b60(0x21b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x559fc0);}else unlockOrders();_0x280fd6&&config['headless']&&(logHistory(_0x334b60(0x255),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x334b60(0x2ad),_0x334b60(0x264)));}else{if(coolingDown)!config[_0x334b60(0x20c)]&&logHistory(_0x334b60(0x255),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x334b60(0x1db)]&&(!config[_0x334b60(0x20c)]&&(config[_0x334b60(0x222)]==_0x334b60(0x2e1)?logHistory(_0x334b60(0x255),_0x334b60(0x35f)):logHistory(_0x334b60(0x255),_0x334b60(0x2d8))));}}function persistOpenOrders(_0x3fead3){const _0x2eb999=_0x16a633,_0x5a6f0c={...config,'openOrders':_0x3fead3};let _0x1e1e55=dbConfig['get'](_0x2eb999(0x1fe))[_0x2eb999(0x248)]({'botID':botID})[_0x2eb999(0x25b)]();_0x1e1e55&&dbConfig[_0x2eb999(0x2f8)](_0x2eb999(0x1fe))[_0x2eb999(0x248)]({'botID':botID})[_0x2eb999(0x321)](_0x5a6f0c)[_0x2eb999(0x351)]();}function restoreOrders(){const _0x294713=_0x16a633;let _0x5a4b4b;config[_0x294713(0x2e2)]&&allOpenOrders['forEach'](_0x2b4332=>{const _0x703847=_0x294713,_0x18f8f9=config['openOrders'][_0x703847(0x248)](_0x4fa9d2=>_0x4fa9d2['orderId']==_0x2b4332['id']);_0x18f8f9&&(lastOrders['push'](_0x18f8f9),_0x5a4b4b=_0x2b4332['timestamp']);});if(lastOrders[_0x294713(0x1df)]>0x0){setLockOrders(ORDERS[_0x294713(0x284)]),validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x2e389c=new Date()['getTime'](),_0x58ed91=config[_0x294713(0x222)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x294713(0x21b)]*0x3c*0x3e8;if(_0x5a4b4b+_0x58ed91>_0x2e389c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1e6768=_0x294713;validateOrders(_0x1e6768(0x1ee));},_0x5a4b4b+_0x58ed91-_0x2e389c);}else validateOrders(_0x294713(0x1ee));}}async function sendMetricsTelegram(){const _0x2c1d5f=_0x16a633;if(!coinsLoaded){process[_0x2c1d5f(0x2c3)]({'telegrammsg':_0x2c1d5f(0x1c7)},_0x4efba7=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3d40b5='';if(config['showname'])_0x3d40b5='<b>'+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x3d40b5='<b>Bot\x20'+botID+_0x2c1d5f(0x2ed);const _0x2c29bb=config['basecoin'],_0x4da9fa=config[_0x2c1d5f(0x2a8)],_0x358d2a=getKPIs(_0x2c1d5f(0x208)),_0x114dc8=getKPIs(_0x2c1d5f(0x2a8),_0x4da9fa),_0x273121=getKPIs('net-basecoin'),_0x31d851=getKPIs(_0x2c1d5f(0x2e5),_0x4da9fa),_0x28bec7=getKPIs(_0x2c1d5f(0x1c8)),_0x167697=getKPIs(_0x2c1d5f(0x2ea),_0x4da9fa);_0x2c29bb[_0x2c1d5f(0x2f5)](_0x4da9fa)?(_0x3d40b5+=_0x2c1d5f(0x352),_0x3d40b5+='Value\x20'+_0x2c29bb+':\x20'+_0x358d2a[_0x2c1d5f(0x25b)]+'\x20('+_0x358d2a[_0x2c1d5f(0x1d9)]+_0x2c1d5f(0x2ae),_0x3d40b5+=_0x2c1d5f(0x24d)+_0x2c29bb+':\x20'+_0x273121['value']+'\x20('+_0x273121[_0x2c1d5f(0x1d9)]+'%)\x0a',_0x3d40b5+=_0x2c1d5f(0x1ab)+_0x2c29bb+':\x20'+_0x28bec7[_0x2c1d5f(0x25b)]+'\x20('+_0x28bec7[_0x2c1d5f(0x1d9)]+'%)\x0a',_0x3d40b5+='</pre>'):(_0x3d40b5+='<pre>',_0x3d40b5+=_0x2c1d5f(0x32d)+_0x2c29bb+':\x20'+_0x358d2a[_0x2c1d5f(0x25b)]+'\x20('+_0x358d2a[_0x2c1d5f(0x1d9)]+_0x2c1d5f(0x2ae),_0x3d40b5+=_0x2c1d5f(0x32d)+_0x4da9fa+':\x20'+_0x114dc8['value']+'\x20('+_0x114dc8[_0x2c1d5f(0x1d9)]+_0x2c1d5f(0x2ae),_0x3d40b5+='Net\x20'+_0x2c29bb+':\x20'+_0x273121[_0x2c1d5f(0x25b)]+'\x20('+_0x273121[_0x2c1d5f(0x1d9)]+'%)\x0a',_0x3d40b5+='Net\x20'+_0x4da9fa+':\x20'+_0x31d851['value']+'\x20('+_0x31d851[_0x2c1d5f(0x1d9)]+_0x2c1d5f(0x2ae),_0x3d40b5+='PnL\x20'+_0x2c29bb+':\x20'+_0x28bec7[_0x2c1d5f(0x25b)]+'\x20('+_0x28bec7[_0x2c1d5f(0x1d9)]+'%)\x0a',_0x3d40b5+=_0x2c1d5f(0x1ab)+_0x4da9fa+':\x20'+_0x167697[_0x2c1d5f(0x25b)]+'\x20('+_0x167697['change']+_0x2c1d5f(0x2ae),_0x3d40b5+=_0x2c1d5f(0x304)),process['send']({'telegrammsg':_0x3d40b5},_0x3bd0bb=>{});}async function sendPortfolioTelegram(){const _0x4e7946=_0x16a633;if(!coinsLoaded||!currentCoins[0x0][_0x4e7946(0x2c1)]&&currentCoins[0x0][_0x4e7946(0x2c1)]!=0x0){process[_0x4e7946(0x2c3)]({'telegrammsg':_0x4e7946(0x1c7)},_0x25c953=>{});return;}let _0x4d193c='';if(config[_0x4e7946(0x1f5)])_0x4d193c=_0x4e7946(0x219)+config['botname']+_0x4e7946(0x2f7);else _0x4d193c='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4d193c+=_0x4e7946(0x352),_0x4d193c+=_0x4e7946(0x379),_0x4d193c+=_0x4e7946(0x336),_0x4d193c+=_0x4e7946(0x379),currentCoins[_0x4e7946(0x216)](_0x4332ae=>{const _0x4b12d6=_0x4e7946;_0x4d193c+=_0x4332ae[_0x4b12d6(0x34f)][_0x4b12d6(0x2c4)](0x7)+'|\x20'+formatPad(_0x4332ae[_0x4b12d6(0x2c1)],0x2,0x6)+'|\x20'+formatPad(_0x4332ae['target'],0x2,0x6)+'|\x20'+(_0x4332ae[_0x4b12d6(0x268)]==0x0?'∞'[_0x4b12d6(0x256)](0x6):formatPad(_0x4332ae[_0x4b12d6(0x34d)]*0x64,0x2,0x6))+'\x0a';}),_0x4d193c+=_0x4e7946(0x304),process[_0x4e7946(0x2c3)]({'telegrammsg':_0x4d193c},_0x15b3c4=>{});}function formatPad(_0x5c8451,_0x1663f8,_0x112427){const _0x29aeca=formatResultString(_0x5c8451,_0x1663f8);return _0x29aeca?_0x29aeca['padStart'](_0x112427):''['padStart'](_0x112427);}function logHistory(_0x5c9ed3,_0x7509dc,_0x39e6f3=''){const _0x38820d=_0x16a633;logger['full'](''+_0x7509dc);let _0x28e7f5={'time':getTimeStamp(),'type':_0x5c9ed3,'event':_0x7509dc};dbLogs[_0x38820d(0x2f8)](_0x38820d(0x272))[_0x38820d(0x313)](_0x28e7f5)[_0x38820d(0x351)]();if(_0x39e6f3=='')_0x39e6f3=_0x7509dc;proxyEmit(_0x38820d(0x218),{'log':_0x28e7f5,'summary':_0x39e6f3}),process['send']({'telegram':{..._0x28e7f5,'botname':config[_0x38820d(0x22d)],'showname':config[_0x38820d(0x1f5)]}},_0x4404d4=>{});}function emitHistory(_0x3af43f={}){const _0x4a0ceb=_0x16a633;Object[_0x4a0ceb(0x247)](_0x3af43f)[_0x4a0ceb(0x1df)]==0x0&&(_0x3af43f={'type':[_0x4a0ceb(0x249),_0x4a0ceb(0x218)],'event':'','page':0x1});if(_0x3af43f['type'][_0x4a0ceb(0x2f5)](_0x4a0ceb(0x218)))_0x3af43f[_0x4a0ceb(0x1d6)][_0x4a0ceb(0x301)](_0x3af43f[_0x4a0ceb(0x1d6)][_0x4a0ceb(0x22c)](_0x4a0ceb(0x218)),0x1,_0x4a0ceb(0x255),_0x4a0ceb(0x2f0),_0x4a0ceb(0x2ad));if(dbLogs[_0x4a0ceb(0x362)](_0x4a0ceb(0x272))[_0x4a0ceb(0x25b)]()){let _0x133eb4=dbLogs[_0x4a0ceb(0x2f8)](_0x4a0ceb(0x272))[_0x4a0ceb(0x25e)](_0x3e8901=>{const _0x478aa0=_0x4a0ceb;if(_0x3af43f['type'][_0x478aa0(0x1df)]==0x0)return![];else return _0x3af43f['type'][_0x478aa0(0x2f5)](_0x3e8901[_0x478aa0(0x1d6)]);})[_0x4a0ceb(0x25e)](_0x22ecc9=>{const _0x5787dc=_0x4a0ceb;if(_0x3af43f['event']=='')return!![];else return _0x22ecc9[_0x5787dc(0x218)]['toLowerCase']()[_0x5787dc(0x2f5)](_0x3af43f['event'][_0x5787dc(0x1f4)]());})[_0x4a0ceb(0x2c5)](_0x4a0ceb(0x243)),_0x312fbe=_0x133eb4[_0x4a0ceb(0x25b)]()['length'];_0x133eb4=_0x133eb4['reverse']()['slice']((_0x3af43f[_0x4a0ceb(0x242)]-0x1)*logPageSize,_0x3af43f['page']*logPageSize-0x1)['reverse']()[_0x4a0ceb(0x25b)](),proxyEmit(_0x4a0ceb(0x1d7),{'logs':_0x133eb4,'total':_0x312fbe});}else proxyEmit(_0x4a0ceb(0x1d7),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x67c6eb){const _0x2a8b70=_0x16a633;if(dbLogs['has'](_0x2a8b70(0x272))[_0x2a8b70(0x25b)]()){const _0x3d808d=dbLogs['get']('logs')[_0x2a8b70(0x2c5)](_0x2a8b70(0x243))['filter'](_0xa0cb25=>{const _0x5a2ccb=_0x2a8b70;return _0xa0cb25[_0x5a2ccb(0x1d6)]==_0x5a2ccb(0x249);})['value']();dbLogs['get']('logs')[_0x2a8b70(0x22e)]()['write'](),dbLogs[_0x2a8b70(0x2f8)](_0x2a8b70(0x272))[_0x2a8b70(0x321)](_0x3d808d)['write'](),emitHistory(_0x67c6eb);}}async function pauseBot(_0x57e8fa=pauseBotIntervalShort,_0xd6156f,_0x1e9d5f,_0xf9eaa9=![]){const _0x469c2c=_0x16a633,_0x42ebb2=new Date()[_0x469c2c(0x370)]();if(!lastErrorShown||_0x42ebb2-lastErrorShown>=_0x57e8fa){lastErrorShown=_0x42ebb2;if(!lastBotPause)lastBotPause=_0x42ebb2,consecutivePauses=0x1;else{if(_0x42ebb2-lastBotPause-_0x57e8fa<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0xf9eaa9){logHistory(_0x469c2c(0x255),_0xd6156f+_0x469c2c(0x29b)),await killBot();return;}else logHistory(_0x469c2c(0x255),_0xd6156f+pauseBotMsg),_0x57e8fa=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x42ebb2;}_0x1e9d5f?logger[_0x469c2c(0x1da)]('('+consecutivePauses+')\x20'+_0xd6156f+_0x469c2c(0x2e7),_0x1e9d5f):logger[_0x469c2c(0x1da)]('('+consecutivePauses+')\x20'+_0xd6156f);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x57e8fa),botPaused=![],_0x57e8fa==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x59bd85=_0x16a633;botPaused=!![],await sleep(0x3e8),process[_0x59bd85(0x2c3)]({'stop':_0x59bd85(0x28d)},_0x474ef9=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xa3aaa8,_0x563947,_0x43d4a4=![]){const _0x741df3=_0x16a633;if(botPaused)return;let _0x4c31ae;const _0x5d0ea3=config[_0x741df3(0x232)]||'Exchange';if(_0x563947)logger['debug'](_0x741df3(0x34c)+_0x563947);const _0x3ab8b7=()=>{const _0x782f9a=_0x741df3;loading[_0x782f9a(0x255)]=_0x782f9a(0x28a),emitLoadingProgress();};if(_0xa3aaa8['toString']()[_0x741df3(0x2f5)]('API-key\x20format\x20invalid'))logHistory(_0x741df3(0x255),_0x5d0ea3+_0x741df3(0x356)),_0x3ab8b7();else{if(_0xa3aaa8[_0x741df3(0x25f)]()[_0x741df3(0x2f5)](_0x741df3(0x2cf)))logHistory(_0x741df3(0x255),_0x5d0ea3+_0x741df3(0x1d8)),_0x3ab8b7();else{if(_0xa3aaa8[_0x741df3(0x25f)]()[_0x741df3(0x2f5)](_0x741df3(0x333)))config[_0x741df3(0x350)]?_0x4c31ae=_0x5d0ea3+_0x741df3(0x35b):_0x4c31ae=_0x5d0ea3+_0x741df3(0x33d),logHistory(_0x741df3(0x255),_0x4c31ae+'\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3ab8b7();else{if(_0xa3aaa8['toString']()[_0x741df3(0x2f5)](_0x741df3(0x250)))logHistory(_0x741df3(0x255),_0x5d0ea3+_0x741df3(0x2bc)),_0x3ab8b7();else{if(!_0x43d4a4)await handleError(_0xa3aaa8,null);}}}}}async function handleError(_0x2ccb68,_0x184da3,_0x5a795c=''){const _0x1b3aa7=_0x16a633;if(botPaused)return;let _0x54af83;const _0x427b1d=config[_0x1b3aa7(0x232)]||_0x1b3aa7(0x27b);if(_0x184da3)logger[_0x1b3aa7(0x1da)](_0x1b3aa7(0x34c)+_0x184da3);if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x201)))_0x54af83=_0x427b1d+_0x1b3aa7(0x1ea),await pauseBot(undefined,_0x54af83,_0x2ccb68);else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)]('RateLimitExceeded'))_0x54af83=_0x427b1d+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x54af83,_0x2ccb68);else{if(_0x2ccb68['toString']()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x31a))||_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x1d5)))_0x54af83=_0x427b1d+_0x1b3aa7(0x1e8),await pauseBot(undefined,_0x54af83,_0x2ccb68['toString']());else{if(_0x2ccb68['toString']()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x1aa)))_0x54af83=_0x427b1d+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x54af83,_0x2ccb68['toString']());else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x332)))_0x54af83=_0x427b1d+_0x1b3aa7(0x274),await pauseBot(undefined,_0x54af83,_0x2ccb68[_0x1b3aa7(0x25f)]());else{if(_0x2ccb68['toString']()[_0x1b3aa7(0x1f4)]()['includes'](_0x1b3aa7(0x2e0))||_0x2ccb68[_0x1b3aa7(0x25f)]()['toLowerCase']()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x328)))_0x54af83=_0x1b3aa7(0x2b7),await pauseBot(undefined,_0x54af83,_0x2ccb68[_0x1b3aa7(0x25f)]());else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)]('InvalidNonce'))_0x54af83=_0x427b1d+_0x1b3aa7(0x31f),await pauseBot(undefined,_0x54af83,_0x2ccb68[_0x1b3aa7(0x25f)]());else{if(_0x2ccb68 instanceof ccxt[_0x1b3aa7(0x343)])_0x54af83=_0x427b1d+_0x1b3aa7(0x1d2)+_0x2ccb68[_0x1b3aa7(0x25f)](),logger[_0x1b3aa7(0x1da)](_0x1b3aa7(0x1e5),_0x2ccb68),await pauseBot(undefined,_0x54af83,_0x2ccb68);else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x1f8)))logHistory(_0x1b3aa7(0x255),_0x427b1d+_0x1b3aa7(0x30d)),logHistory(_0x1b3aa7(0x255),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x427b1d+_0x1b3aa7(0x335)),logHistory('error',_0x1b3aa7(0x24a)),await killBot();else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x333))&&_0x2ccb68[_0x1b3aa7(0x25f)]()['includes'](_0x1b3aa7(0x276)))_0x54af83=_0x427b1d+_0x1b3aa7(0x21f),await pauseBot(undefined,_0x54af83,_0x2ccb68,!![]);else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)]('AuthenticationError'))config[_0x1b3aa7(0x350)]?_0x54af83=_0x427b1d+_0x1b3aa7(0x35b):_0x54af83=_0x427b1d+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x1b3aa7(0x255),_0x54af83),logHistory(_0x1b3aa7(0x255),_0x1b3aa7(0x24a)),await killBot();else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x250)))logHistory(_0x1b3aa7(0x255),_0x427b1d+_0x1b3aa7(0x1a5)),logHistory(_0x1b3aa7(0x255),_0x1b3aa7(0x24a)),await killBot();else{if(_0x2ccb68[_0x1b3aa7(0x25f)]()[_0x1b3aa7(0x2f5)](_0x1b3aa7(0x33e)))logHistory(_0x1b3aa7(0x255),_0x1b3aa7(0x341)+_0x5a795c),logger['debug']('Error\x20details:',_0x2ccb68);else{if(_0x2ccb68 instanceof ccxt[_0x1b3aa7(0x346)]){_0x54af83=_0x427b1d+_0x1b3aa7(0x36f)+_0x2ccb68[_0x1b3aa7(0x25f)]();if(_0x5a795c)_0x54af83+='\x0aSymbol(s):\x20'+_0x5a795c;await pauseBot(undefined,_0x54af83,_0x2ccb68);}else{_0x54af83=_0x1b3aa7(0x267)+_0x2ccb68[_0x1b3aa7(0x25f)]();if(_0x5a795c)_0x54af83+=_0x1b3aa7(0x31c)+_0x5a795c;await pauseBot(undefined,_0x54af83);}}}}}}}}}}}}}}}}function decryptRSA(_0x11013f,_0x57c5f5){const _0x406d40=_0x16a633,_0x36a112=forge[_0x406d40(0x1a8)][_0x406d40(0x375)](_0x11013f),_0x3c61e4=_0x36a112[_0x406d40(0x316)](forge[_0x406d40(0x325)][_0x406d40(0x32f)](_0x57c5f5),_0x406d40(0x324),{'md':forge['md'][_0x406d40(0x2b2)][_0x406d40(0x287)](),'mgf1':{'md':forge['md'][_0x406d40(0x2b2)][_0x406d40(0x287)]()}});return _0x3c61e4;}async function withRetry(_0x49f7c6,_0x3ee151){const _0x5f54ec=_0x16a633;let _0x10046d=![],_0x36fc49=0x0,_0x3b8823,_0x567200;while(_0x36fc49<maxRetries){try{_0x3b8823=await _0x3ee151();break;}catch(_0x16a226){_0x567200=_0x16a226,!_0x10046d?(_0x10046d=!![],logger[_0x5f54ec(0x1da)](_0x5f54ec(0x300)+_0x49f7c6+':',_0x16a226[_0x5f54ec(0x25f)]())):await sleep(retryInterval);}_0x36fc49++;}if(_0x36fc49==0x0)return _0x3b8823;if(_0x36fc49>=maxRetries)throw _0x567200;else return logger[_0x5f54ec(0x1da)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x36fc49+'\x20attempts'),_0x3b8823;}function formatResult(_0x20261c,_0x5af87b){const _0xfa250b=_0x16a633;return parseFloat(_0x20261c[_0xfa250b(0x29f)](_0x5af87b));}function formatResultTruncate(_0x46f846,_0x51f473){const _0x39cecf=_0x16a633;let _0x32e2ed=formatResultString(_0x46f846,0xa),_0x2651bf=_0x32e2ed[_0x39cecf(0x22c)]('.');return _0x2651bf!=-0x1&&(_0x32e2ed=_0x32e2ed[_0x39cecf(0x2f3)](0x0,_0x2651bf+_0x51f473+0x1)),Number(_0x32e2ed);}function formatResultString(_0x36fa57,_0x56914f){const _0x1c7c53=_0x16a633;let _0x5b511a;if(!(''+_0x36fa57)[_0x1c7c53(0x2f5)]('e'))_0x5b511a=+(Math[_0x1c7c53(0x2e4)](_0x36fa57+'e+'+_0x56914f)+'e-'+_0x56914f);else{let _0x30e05f=(''+_0x36fa57)[_0x1c7c53(0x281)]('e'),_0x10b4de='';+_0x30e05f[0x1]+_0x56914f>0x0&&(_0x10b4de='+'),_0x5b511a=+(Math['round'](+_0x30e05f[0x0]+'e'+_0x10b4de+(+_0x30e05f[0x1]+_0x56914f))+'e-'+_0x56914f);}return Number(_0x5b511a)[_0x1c7c53(0x29f)](_0x56914f);}function getServerTime(){const _0x51d598=_0x16a633,_0x5d9b6a=new Date();return _0x5d9b6a[_0x51d598(0x1e7)]()+'/'+(_0x5d9b6a[_0x51d598(0x20f)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5d9b6a[_0x51d598(0x23a)]()[_0x51d598(0x25f)]()['padStart'](0x2,'0')+'\x20'+_0x5d9b6a['getHours']()[_0x51d598(0x25f)]()[_0x51d598(0x256)](0x2,'0')+':'+_0x5d9b6a['getMinutes']()['toString']()[_0x51d598(0x256)](0x2,'0')+':'+_0x5d9b6a[_0x51d598(0x2aa)]()['toString']()[_0x51d598(0x256)](0x2,'0');}function getTimeStamp(){const _0x3a5cdc=_0x16a633,_0x4b538c=shiftedTime();return _0x4b538c['getFullYear']()+'/'+(_0x4b538c[_0x3a5cdc(0x20f)]()+0x1)['toString']()[_0x3a5cdc(0x256)](0x2,'0')+'/'+_0x4b538c[_0x3a5cdc(0x23a)]()['toString']()[_0x3a5cdc(0x256)](0x2,'0')+'\x20'+_0x4b538c[_0x3a5cdc(0x2b1)]()[_0x3a5cdc(0x25f)]()[_0x3a5cdc(0x256)](0x2,'0')+':'+_0x4b538c[_0x3a5cdc(0x226)]()['toString']()['padStart'](0x2,'0')+':'+_0x4b538c[_0x3a5cdc(0x2aa)]()[_0x3a5cdc(0x25f)]()[_0x3a5cdc(0x256)](0x2,'0');}function getDate(){const _0x79f301=_0x16a633,_0x28fcd5=shiftedTime();return _0x28fcd5['getFullYear']()+'/'+(_0x28fcd5[_0x79f301(0x20f)]()+0x1)[_0x79f301(0x25f)]()[_0x79f301(0x256)](0x2,'0')+'/'+_0x28fcd5[_0x79f301(0x23a)]()[_0x79f301(0x25f)]()[_0x79f301(0x256)](0x2,'0');}function getHour(){const _0x256710=_0x16a633,_0x11d281=shiftedTime();return _0x11d281['getHours']()['toString']()[_0x256710(0x256)](0x2,'0');}function sleep(_0x1654ec){return new Promise(_0x1b72b5=>setTimeout(_0x1b72b5,_0x1654ec));}function shiftedTime(){const _0x477c13=_0x16a633,_0x5ae956=new Date();let _0x5b040c=_0x5ae956;if(config&&config[_0x477c13(0x369)]!==0x0)_0x5b040c=fns['add'](_0x5ae956,{'hours':config[_0x477c13(0x369)]});return _0x5b040c;}function timer(_0x1b0bc2){const _0x533080=_0x16a633,_0x5b14ab=new Date();!lasttime?console['log'](getTimeStamp()+_0x533080(0x1b2),_0x1b0bc2,_0x5b14ab):console[_0x533080(0x240)](getTimeStamp()+_0x533080(0x1b2),_0x1b0bc2,(_0x5b14ab-lasttime)/0x3e8),lasttime=_0x5b14ab;}