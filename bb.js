const _0xf37853=_0x450d;(function(_0x32825a,_0x5e0cf2){const _0x79c94a=_0x450d,_0x508b38=_0x32825a();while(!![]){try{const _0x5d2ed1=-parseInt(_0x79c94a(0xe1))/0x1*(parseInt(_0x79c94a(0xd9))/0x2)+parseInt(_0x79c94a(0xdc))/0x3+parseInt(_0x79c94a(0xc0))/0x4*(parseInt(_0x79c94a(0xde))/0x5)+parseInt(_0x79c94a(0xd5))/0x6+parseInt(_0x79c94a(0xec))/0x7*(-parseInt(_0x79c94a(0xf0))/0x8)+-parseInt(_0x79c94a(0xc8))/0x9*(parseInt(_0x79c94a(0xd1))/0xa)+parseInt(_0x79c94a(0xe4))/0xb;if(_0x5d2ed1===_0x5e0cf2)break;else _0x508b38['push'](_0x508b38['shift']());}catch(_0x544f2){_0x508b38['push'](_0x508b38['shift']());}}}(_0x4846,0x24a57));const _0x1f67e3=function(){let _0xc43407=!![];return function(_0x1ed738,_0x43d226){const _0x341982=_0xc43407?function(){const _0xf87700=_0x450d;if(_0x43d226){const _0x393163=_0x43d226[_0xf87700(0xe3)](_0x1ed738,arguments);return _0x43d226=null,_0x393163;}}:function(){};return _0xc43407=![],_0x341982;};}(),_0x31064a=_0x1f67e3(this,function(){const _0x240e03=_0x450d;return _0x31064a[_0x240e03(0xbd)]()['search']('(((.+)+)+)+$')[_0x240e03(0xbd)]()[_0x240e03(0xcb)](_0x31064a)[_0x240e03(0xd0)](_0x240e03(0xda));});_0x31064a();const fs=require('fs'),yargs=require(_0xf37853(0xcc)),childProcess=require(_0xf37853(0xf6)),nodeversion=process[_0xf37853(0xc3)]['node'],minversion=0x10;nodeversion[_0xf37853(0xbf)]('.')[0x0]<minversion&&(console['log'](),console[_0xf37853(0xca)]('-----------------------------------------------------------------------------------'),console[_0xf37853(0xca)](_0xf37853(0xd2)+nodeversion+_0xf37853(0xf3)+minversion+_0xf37853(0xe2)),console[_0xf37853(0xca)](_0xf37853(0xee)),console['log'](_0xf37853(0xc4)),console[_0xf37853(0xca)](),process[_0xf37853(0xed)](0x1));const argv=yargs(process[_0xf37853(0xc7)]['slice'](0x2))[_0xf37853(0xc7)];if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0xf37853(0xd8)](argv['port'])&&(console[_0xf37853(0xca)](_0xf37853(0xc5)+argv[_0xf37853(0xe6)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0xf37853(0xed)](0x1));}let args=[];argv[_0xf37853(0xe6)]&&(args['push'](_0xf37853(0xbe)),args['push'](argv[_0xf37853(0xe6)]));argv['host']&&(args[_0xf37853(0xdb)](_0xf37853(0xe0)),args[_0xf37853(0xdb)](argv[_0xf37853(0xcd)]));argv[_0xf37853(0xea)]&&(args[_0xf37853(0xdb)](_0xf37853(0xe7)),args[_0xf37853(0xdb)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![],recreate=argv['r']||![],openBrowser=argv['o']||![];function _0x4846(){const _0x3b0eee=['Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','keys','8AtBcZX','message','kill',',\x20but\x20version\x20','inherit','restore','child_process','toString','--port','split','9908KeibSn','values','Automatically\x20restarting\x20BM','versions','-----------------------------------------------------------------------------------','Error:\x20Invalid\x20argument\x20','SIGTERM','argv','9GaQwEE','fork','log','constructor','yargs','host','bm.js','update','search','648150szEIcS','The\x20installed\x20Node.js\x20version\x20is\x20','Unexpected\x20error:','terminate','677976CjugzC','existsSync','ipc','test','2BONQSs','(((.+)+)+)+$','push','710694lppOGJ','reinstall','90nfMqPv','Error\x20while\x20updating\x20Balance\x20Bot:','--host','86056WuZKfS','\x20or\x20above\x20is\x20required','apply','1598113MQwXka','staging','port','--user','SIGINT','install.js','user','bb/','1671523zITKOX','exit'];_0x4846=function(){return _0x3b0eee;};return _0x4846();}if(debugging)args[_0xf37853(0xdb)]('-d');if(recreate)args[_0xf37853(0xdb)]('-r');function _0x450d(_0x41067c,_0x5aa2ba){const _0x31b225=_0x4846();return _0x450d=function(_0x31064a,_0x1f67e3){_0x31064a=_0x31064a-0xbd;let _0x4846ed=_0x31b225[_0x31064a];return _0x4846ed;},_0x450d(_0x41067c,_0x5aa2ba);}if(openBrowser)args[_0xf37853(0xdb)]('-o');let bmpath=_0xf37853(0xeb);const bmfile=_0xf37853(0xce),updatefile=_0xf37853(0xe9);!fs[_0xf37853(0xd6)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0xf37853(0xed),async()=>{handleTerminate();}),process['on'](_0xf37853(0xc6),async()=>{handleTerminate();}),process['on'](_0xf37853(0xe8),async()=>{handleTerminate();}),startBM();function startBM(){const _0x22e603=_0xf37853;let _0x5ef5de=![];const _0x9473d0={'cwd':'','stdio':['inherit',_0x22e603(0xf4),'inherit',_0x22e603(0xd7)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0x9473d0),pid1['on'](_0x22e603(0xf1),_0x53f6e1=>{const _0x33af1e=_0x22e603,_0x227e90=Object[_0x33af1e(0xc1)](_0x53f6e1)[0x1]==_0x33af1e(0xe5);switch(Object[_0x33af1e(0xef)](_0x53f6e1)[0x0]){case _0x33af1e(0xcf):if(_0x227e90)startUpdate('2s');else startUpdate('2');break;case _0x33af1e(0xdd):if(_0x227e90)startUpdate('3s');else startUpdate('3');break;case _0x33af1e(0xf5):handleRestore();break;case _0x33af1e(0xd4):handleTerminate();break;}}),pid1['on']('error',function(_0x174678){const _0xe5337b=_0x22e603;if(_0x5ef5de)return;_0x5ef5de=!![],logging(_0xe5337b(0xd3),_0x174678);}),pid1['on']('exit',function(_0xf7c7c3){const _0x2da122=_0x22e603;if(terminating)return;if(updating)return;if(_0x5ef5de)return;_0x5ef5de=!![],console[_0x2da122(0xca)](_0x2da122(0xc2)),startBM();});}async function handleTerminate(){const _0x999e7a=_0xf37853;stopBM(),await sleep(0x3e8),process[_0x999e7a(0xed)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x5ab8d1){const _0x214e9e=_0xf37853;updating=!![],stopBM();let _0x3136c2=![];const _0x563bc5={'cwd':'','stdio':[_0x214e9e(0xf4),_0x214e9e(0xf4),'inherit',_0x214e9e(0xd7)]};let _0x555df4=[];if(staging)_0x555df4[_0x214e9e(0xdb)](_0x5ab8d1+'s');else _0x555df4[_0x214e9e(0xdb)](_0x5ab8d1);pid2=childProcess[_0x214e9e(0xc9)](updatefile,_0x555df4,_0x563bc5),pid2['on']('error',function(_0x56fda9){const _0x3aa982=_0x214e9e;updating=![];if(_0x3136c2)return;_0x3136c2=!![],logging(_0x3aa982(0xdf),_0x56fda9);}),pid2['on'](_0x214e9e(0xed),function(_0x3b8bcd){updating=![];if(_0x3136c2)return;_0x3136c2=!![],terminating=![],startBM();});}function handleRestore(){const _0x3278d0=_0xf37853;if(pid1)pid1[_0x3278d0(0xf2)]();}function logging(_0x2c0e9d){const _0x58395c=_0xf37853;console[_0x58395c(0xca)]('Balance\x20Bot\x20>\x20'+_0x2c0e9d);}function sleep(_0x2f82bf){return new Promise(_0x41285a=>setTimeout(_0x41285a,_0x2f82bf));}